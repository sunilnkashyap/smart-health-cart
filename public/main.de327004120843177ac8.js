(self.webpackChunksmart_health_card=self.webpackChunksmart_health_card||[]).push([[179],{255:Da=>{function ti(xr){return Promise.resolve().then(()=>{var $n=new Error("Cannot find module '"+xr+"'");throw $n.code="MODULE_NOT_FOUND",$n})}ti.keys=()=>[],ti.resolve=ti,ti.id=255,Da.exports=ti},676:function(Da,ti){!function(xr){"use strict";function $n(B){return Array.prototype.slice.call(B)}function Sa(B){return new Promise(function(ue,ye){B.onsuccess=function(){ue(B.result)},B.onerror=function(){ye(B.error)}})}function Zt(B,ue,ye){var Fe,ve=new Promise(function(se,ps){Sa(Fe=B[ue].apply(B,ye)).then(se,ps)});return ve.request=Fe,ve}function fs(B,ue,ye){var Fe=Zt(B,ue,ye);return Fe.then(function(ve){if(ve)return new Ne(ve,Fe.request)})}function Rr(B,ue,ye){ye.forEach(function(Fe){Object.defineProperty(B.prototype,Fe,{get:function(){return this[ue][Fe]},set:function(ve){this[ue][Fe]=ve}})})}function io(B,ue,ye,Fe){Fe.forEach(function(ve){ve in ye.prototype&&(B.prototype[ve]=function(){return Zt(this[ue],ve,arguments)})})}function so(B,ue,ye,Fe){Fe.forEach(function(ve){ve in ye.prototype&&(B.prototype[ve]=function(){return this[ue][ve].apply(this[ue],arguments)})})}function x_(B,ue,ye,Fe){Fe.forEach(function(ve){ve in ye.prototype&&(B.prototype[ve]=function(){return fs(this[ue],ve,arguments)})})}function ar(B){this._index=B}function Ne(B,ue){this._cursor=B,this._request=ue}function Hn(B){this._store=B}function ni(B){this._tx=B,this.complete=new Promise(function(ue,ye){B.oncomplete=function(){ue()},B.onerror=function(){ye(B.error)},B.onabort=function(){ye(B.error)}})}function Wc(B,ue,ye){this._db=B,this.oldVersion=ue,this.transaction=new ni(ye)}function ke(B){this._db=B}Rr(ar,"_index",["name","keyPath","multiEntry","unique"]),io(ar,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),x_(ar,"_index",IDBIndex,["openCursor","openKeyCursor"]),Rr(Ne,"_cursor",["direction","key","primaryKey","value"]),io(Ne,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(B){B in IDBCursor.prototype&&(Ne.prototype[B]=function(){var ue=this,ye=arguments;return Promise.resolve().then(function(){return ue._cursor[B].apply(ue._cursor,ye),Sa(ue._request).then(function(Fe){if(Fe)return new Ne(Fe,ue._request)})})})}),Hn.prototype.createIndex=function(){return new ar(this._store.createIndex.apply(this._store,arguments))},Hn.prototype.index=function(){return new ar(this._store.index.apply(this._store,arguments))},Rr(Hn,"_store",["name","keyPath","indexNames","autoIncrement"]),io(Hn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),x_(Hn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),so(Hn,"_store",IDBObjectStore,["deleteIndex"]),ni.prototype.objectStore=function(){return new Hn(this._tx.objectStore.apply(this._tx,arguments))},Rr(ni,"_tx",["objectStoreNames","mode"]),so(ni,"_tx",IDBTransaction,["abort"]),Wc.prototype.createObjectStore=function(){return new Hn(this._db.createObjectStore.apply(this._db,arguments))},Rr(Wc,"_db",["name","version","objectStoreNames"]),so(Wc,"_db",IDBDatabase,["deleteObjectStore","close"]),ke.prototype.transaction=function(){return new ni(this._db.transaction.apply(this._db,arguments))},Rr(ke,"_db",["name","version","objectStoreNames"]),so(ke,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(B){[Hn,ar].forEach(function(ue){B in ue.prototype&&(ue.prototype[B.replace("open","iterate")]=function(){var ye=$n(arguments),Fe=ye[ye.length-1],ve=this._store||this._index,se=ve[B].apply(ve,ye.slice(0,-1));se.onsuccess=function(){Fe(se.result)}})})}),[ar,Hn].forEach(function(B){B.prototype.getAll||(B.prototype.getAll=function(ue,ye){var Fe=this,ve=[];return new Promise(function(se){Fe.iterateCursor(ue,function(ps){ps?(ve.push(ps.value),void 0===ye||ve.length!=ye?ps.continue():se(ve)):se(ve)})})})}),xr.openDb=function(B,ue,ye){var Fe=Zt(indexedDB,"open",[B,ue]),ve=Fe.request;return ve&&(ve.onupgradeneeded=function(se){ye&&ye(new Wc(ve.result,se.oldVersion,ve.transaction))}),Fe.then(function(se){return new ke(se)})},xr.deleteDb=function(B){return Zt(indexedDB,"deleteDatabase",[B])},Object.defineProperty(xr,"__esModule",{value:!0})}(ti)},656:(Da,ti,xr)=>{"use strict";function $n(t){return"function"==typeof t}let Sa=!1;const Zt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else Sa&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Sa=t},get useDeprecatedSynchronousErrorHandling(){return Sa}};function fs(t){setTimeout(()=>{throw t},0)}const Rr={closed:!0,next(t){},error(t){if(Zt.useDeprecatedSynchronousErrorHandling)throw t;fs(t)},complete(){}},io=Array.isArray||(t=>t&&"number"==typeof t.length);function so(t){return null!==t&&"object"==typeof t}const ar=(()=>{function t(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t})();class Ne{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof Ne)n.remove(this);else if(null!==n)for(let o=0;o<n.length;++o)n[o].remove(this);if($n(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(o){e=o instanceof ar?Hn(o.errors):[o]}}if(io(s)){let o=-1,a=s.length;for(;++o<a;){const u=s[o];if(so(u))try{u.unsubscribe()}catch(c){e=e||[],c instanceof ar?e=e.concat(Hn(c.errors)):e.push(c)}}}if(e)throw new ar(e)}add(e){let n=e;if(!e)return Ne.EMPTY;switch(typeof e){case"function":n=new Ne(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof Ne)){const s=n;n=new Ne,n._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof Ne){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const n=this._subscriptions;if(n){const r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}var t;function Hn(t){return t.reduce((e,n)=>e.concat(n instanceof ar?n.errors:n),[])}Ne.EMPTY=((t=new Ne).closed=!0,t);const ni="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class ke extends Ne{constructor(e,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Rr;break;case 1:if(!e){this.destination=Rr;break}if("object"==typeof e){e instanceof ke?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Kh(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Kh(this,e,n,r)}}[ni](){return this}static create(e,n,r){const i=new ke(e,n,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class Kh extends ke{constructor(e,n,r,i){super(),this._parentSubscriber=e;let s,o=this;$n(n)?s=n:n&&(s=n.next,r=n.error,i=n.complete,n!==Rr&&(o=Object.create(n),$n(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;Zt.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=Zt;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=e,n.syncErrorThrown=!0):fs(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;fs(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);Zt.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(r){if(this.unsubscribe(),Zt.useDeprecatedSynchronousErrorHandling)throw r;fs(r)}}__tryOrSetError(e,n,r){if(!Zt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(i){return Zt.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(fs(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const ue="function"==typeof Symbol&&Symbol.observable||"@@observable";function ye(t){return t}let se=(()=>{class t{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const{operator:s}=this,o=function(t,e,n){if(t){if(t instanceof ke)return t;if(t[ni])return t[ni]()}return t||e||n?new ke(t,e,n):new ke(Rr)}(n,r,i);if(o.add(s?s.call(o,this.source):this.source||Zt.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Zt.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){Zt.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof ke?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=ps(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),o&&o.unsubscribe()}},s,i)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[ue](){return this}pipe(...n){return 0===n.length?this:function(t){return 0===t.length?ye:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=ps(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function ps(t){if(t||(t=Zt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const Aa=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class QH extends Ne{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class ZA extends ke{constructor(e){super(e),this.destination=e}}let ki=(()=>{class t extends se{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ni](){return new ZA(this)}lift(n){const r=new ex(this,this);return r.operator=n,r}next(n){if(this.closed)throw new Aa;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].next(n)}}error(n){if(this.closed)throw new Aa;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].error(n);this.observers.length=0}complete(){if(this.closed)throw new Aa;this.isStopped=!0;const{observers:n}=this,r=n.length,i=n.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new Aa;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new Aa;return this.hasError?(n.error(this.thrownError),Ne.EMPTY):this.isStopped?(n.complete(),Ne.EMPTY):(this.observers.push(n),new QH(this,n))}asObservable(){const n=new se;return n.source=this,n}}return t.create=(e,n)=>new ex(e,n),t})();class ex extends ki{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):Ne.EMPTY}}function Qh(t){return t&&"function"==typeof t.schedule}function We(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new YH(t,e))}}class YH{constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new JH(e,this.project,this.thisArg))}}class JH extends ke{constructor(e,n,r){super(e),this.project=n,this.count=0,this.thisArg=r||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const tx=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},Yh="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",nx=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function rx(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const N_=t=>{if(t&&"function"==typeof t[ue])return(t=>e=>{const n=t[ue]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(nx(t))return tx(t);if(rx(t))return(t=>e=>(t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,fs),e))(t);if(t&&"function"==typeof t[Yh])return(t=>e=>{const n=t[Yh]();for(;;){let r;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const n=`You provided ${so(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function k_(t,e){return new se(n=>{const r=new Ne;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function hn(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[ue]}(t))return function(t,e){return new se(n=>{const r=new Ne;return r.add(e.schedule(()=>{const i=t[ue]();r.add(i.subscribe({next(s){r.add(e.schedule(()=>n.next(s)))},error(s){r.add(e.schedule(()=>n.error(s)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(rx(t))return function(t,e){return new se(n=>{const r=new Ne;return r.add(e.schedule(()=>t.then(i=>{r.add(e.schedule(()=>{n.next(i),r.add(e.schedule(()=>n.complete()))}))},i=>{r.add(e.schedule(()=>n.error(i)))}))),r})}(t,e);if(nx(t))return k_(t,e);if(function(t){return t&&"function"==typeof t[Yh]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{const r=new Ne;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[Yh](),r.add(e.schedule(function(){if(n.closed)return;let s,o;try{const a=i.next();s=a.value,o=a.done}catch(a){return void n.error(a)}o?n.complete():(n.next(s),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof se?t:new se(N_(t))}class P_ extends ke{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class M_ extends ke{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function O_(t,e){if(e.closed)return;if(t instanceof se)return t.subscribe(e);let n;try{n=N_(t)(e)}catch(r){e.error(r)}return n}function Bt(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(Bt((i,s)=>hn(t(i,s)).pipe(We((o,a)=>e(i,o,s,a))),n)):("number"==typeof e&&(n=e),r=>r.lift(new uW(t,n)))}class uW{constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new cW(e,this.project,this.concurrent))}}class cW extends M_{constructor(e,n,r=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(n)}_innerSub(e){const n=new P_(this),r=this.destination;r.add(n);const i=O_(e,n);i!==n&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function qc(t=Number.POSITIVE_INFINITY){return Bt(ye,t)}function F_(t,e){return e?k_(t,e):new se(tx(t))}function L_(){return function(e){return e.lift(new dW(e))}}class dW{constructor(e){this.connectable=e}call(e,n){const{connectable:r}=this;r._refCount++;const i=new hW(e,r),s=n.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class hW extends ke{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class ix extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new Ne,e.add(this.source.subscribe(new pW(this.getSubject(),this))),e.closed&&(this._connection=null,e=Ne.EMPTY)),e}refCount(){return L_()(this)}}const fW=(()=>{const t=ix.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class pW extends ZA{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}function yW(){return new ki}function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function oe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(oe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function U_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const EW=De({__forward_ref__:De});function B_(t){return t.__forward_ref__=B_,t.toString=function(){return oe(this())},t}function U(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(EW)&&t.__forward_ref__===B_}(t)?t():t}class oo extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function fn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}function Jh(t,e){const n=e?` in ${e}`:"";throw new oo("201",`No provider for ${fn(t)} found${n}`)}function qn(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ae(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mi(t){return ox(t,Xh)||ox(t,ux)}function ox(t,e){return t.hasOwnProperty(e)?t[e]:null}function ax(t){return t&&(t.hasOwnProperty($_)||t.hasOwnProperty(SW))?t[$_]:null}const Xh=De({\u0275prov:De}),$_=De({\u0275inj:De}),ux=De({ngInjectableDef:De}),SW=De({ngInjectorDef:De});var $=(()=>(($=$||{})[$.Default=0]="Default",$[$.Host=1]="Host",$[$.Self=2]="Self",$[$.SkipSelf=4]="SkipSelf",$[$.Optional=8]="Optional",$))();let H_;function gs(t){const e=H_;return H_=t,e}function cx(t,e,n){const r=Mi(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&$.Optional?null:void 0!==e?e:void Jh(oe(t),"Injector")}function ms(t){return{toString:t}.toString()}var ur=(()=>((ur=ur||{})[ur.OnPush=0]="OnPush",ur[ur.Default=1]="Default",ur))(),vt=(()=>((vt=vt||{})[vt.Emulated=0]="Emulated",vt[vt.None=2]="None",vt[vt.ShadowDom=3]="ShadowDom",vt))();const xW="undefined"!=typeof globalThis&&globalThis,RW="undefined"!=typeof window&&window,NW="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ae=xW||"undefined"!=typeof global&&global||RW||NW,xa={},Oe=[],Zh=De({\u0275cmp:De}),W_=De({\u0275dir:De}),q_=De({\u0275pipe:De}),lx=De({\u0275mod:De}),kW=De({\u0275loc:De}),Oi=De({\u0275fac:De}),Gc=De({__NG_ELEMENT_ID__:De});let PW=0;function Fi(t){return ms(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ur.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Oe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||vt.Emulated,id:"c",styles:t.styles||Oe,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=PW++,r.inputs=px(t.inputs,n),r.outputs=px(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(dx):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(hx):null,r})}function dx(t){return pn(t)||function(t){return t[W_]||null}(t)}function hx(t){return function(t){return t[q_]||null}(t)}const fx={};function Nr(t){return ms(()=>{const e={type:t.type,bootstrap:t.bootstrap||Oe,declarations:t.declarations||Oe,imports:t.imports||Oe,exports:t.exports||Oe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(fx[t.id]=t.type),e})}function px(t,e){if(null==t)return xa;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const en=Fi;function pn(t){return t[Zh]||null}function cr(t,e){const n=t[lx]||null;if(!n&&!0===e)throw new Error(`Type ${oe(t)} does not have '\u0275mod' property.`);return n}function ri(t){return Array.isArray(t)&&"object"==typeof t[1]}function Pr(t){return Array.isArray(t)&&!0===t[1]}function K_(t){return 0!=(8&t.flags)}function rf(t){return 2==(2&t.flags)}function Mr(t){return null!==t.template}function BW(t){return 0!=(512&t[2])}function ho(t,e){return t.hasOwnProperty(Oi)?t[Oi]:null}class mx{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function _x(t){return t.type.prototype.ngOnChanges&&(t.setInput=WW),HW}function HW(){const t=vx(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===xa)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function WW(t,e,n,r){const i=vx(t)||function(t,e){return t[yx]=e}(t,{previous:xa,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new mx(u&&u.currentValue,e,o===xa),t[r]=e}const yx="__ngSimpleChanges__";function vx(t){return t[yx]||null}let J_;function nt(t){return!!t.listen}const Ix={createRenderer:(t,e)=>void 0!==J_?J_:"undefined"!=typeof document?document:void 0};function dt(t){for(;Array.isArray(t);)t=t[0];return t}function hr(t,e){return dt(e[t.index])}function Kn(t,e){const n=e[t];return ri(n)?n:n[0]}function ey(t){return 128==(128&t[2])}function ys(t,e){return null==e?null:t[e]}function Cx(t){t[18]=0}function ty(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const K={lFrame:kx(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Tx(){return K.bindingsEnabled}function C(){return K.lFrame.lView}function Ee(){return K.lFrame.tView}function Et(){let t=Dx();for(;null!==t&&64===t.type;)t=t.parent;return t}function Dx(){return K.lFrame.currentTNode}function ii(t,e){const n=K.lFrame;n.currentTNode=t,n.isParent=e}function ny(){return K.lFrame.isParent}function af(){return K.isInCheckNoChangesMode}function uf(t){K.isInCheckNoChangesMode=t}function oq(t,e){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,iy(e)}function iy(t){K.lFrame.currentDirectiveIndex=t}function oy(t){K.lFrame.currentQueryIndex=t}function uq(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Rx(t,e,n){if(n&$.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&$.Host||(i=uq(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=K.lFrame=Nx();return r.currentTNode=e,r.lView=t,!0}function cf(t){const e=Nx(),n=t[1];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Nx(){const t=K.lFrame,e=null===t?null:t.child;return null===e?kx(t):e}function kx(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Px(){const t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Mx=Px;function lf(){const t=Px();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mn(){return K.lFrame.selectedIndex}function vs(t){K.lFrame.selectedIndex=t}function df(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function hf(t,e,n){Ox(t,e,3,n)}function ff(t,e,n,r){(3&t[2])===n&&Ox(t,e,n,r)}function ay(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ox(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(_q(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function _q(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Jc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function pf(t,e,n){const r=nt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];cy(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Fx(t){return 3===t||4===t||6===t}function cy(t){return 64===t.charCodeAt(0)}function gf(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Lx(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Lx(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Vx(t){return-1!==t}function Fa(t){return 32767&t}function La(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let ly=!0;function mf(t){const e=ly;return ly=t,e}let bq=0;function Zc(t,e){const n=hy(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,dy(r.data,t),dy(e,null),dy(r.blueprint,null));const i=_f(t,e),s=t.injectorIndex;if(Vx(i)){const o=Fa(i),a=La(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function dy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function hy(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function _f(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function yf(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Gc)&&(r=n[Gc]),null==r&&(r=n[Gc]=bq++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function jx(t,e,n){if(n&$.Optional)return t;Jh(e,"NodeInjector")}function $x(t,e,n,r){if(n&$.Optional&&void 0===r&&(r=null),0==(n&($.Self|$.Host))){const i=t[9],s=gs(void 0);try{return i?i.get(e,r,n&$.Optional):cx(e,r,n&$.Optional)}finally{gs(s)}}return jx(r,e,n)}function Hx(t,e,n,r=$.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Gc)?t[Gc]:void 0;return"number"==typeof e?e>=0?255&e:Dq:e}(n);if("function"==typeof s){if(!Rx(e,t,r))return r&$.Host?jx(i,n,r):$x(e,n,r,i);try{const o=s(r);if(null!=o||r&$.Optional)return o;Jh(n)}finally{Mx()}}else if("number"==typeof s){let o=null,a=hy(t,e),u=-1,c=r&$.Host?e[16][6]:null;for((-1===a||r&$.SkipSelf)&&(u=-1===a?_f(t,e):e[a+8],-1!==u&&Gx(r,!1)?(o=e[1],a=Fa(u),e=La(u,e)):a=-1);-1!==a;){const l=e[1];if(qx(s,a,l.data)){const d=Sq(a,e,n,o,r,c);if(d!==Wx)return d}u=e[a+8],-1!==u&&Gx(r,e[1].data[a+8]===c)&&qx(s,a,e)?(o=l,a=Fa(u),e=La(u,e)):a=-1}}}return $x(e,n,r,i)}const Wx={};function Dq(){return new Va(Et(),C())}function Sq(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Mr(f)&&f.type===n)return u}return null}(a,o,n,null==r?rf(a)&&ly:r!=o&&0!=(3&a.type),i&$.Host&&s===a);return null!==l?el(e,o,l,a):Wx}function el(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof Jc}(i)){const o=i;o.resolving&&function(t,e){throw new oo("200",`Circular dependency in DI detected for ${t}`)}(fn(s[n]));const a=mf(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?gs(o.injectImpl):null;Rx(t,r,$.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=_x(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&gs(u),mf(a),o.resolving=!1,Mx()}}return i}function qx(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Gx(t,e){return!(t&$.Self||t&$.Host&&e)}class Va{constructor(e,n){this._tNode=e,this._lView=n}get(e,n){return Hx(this._tNode,this._lView,e,void 0,n)}}const Ba="__parameters__";function po(t,e,n){return ms(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Ba)?u[Ba]:Object.defineProperty(u,Ba,{value:[]})[Ba];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class pe{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ae({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const kq=new pe("AnalyzeForEntryComponents"),Ef=Function;function oi(t,e){t.forEach(n=>Array.isArray(n)?oi(n,e):e(n))}function If(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function go(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const sl={},_y="__NG_DI_FLAG__",Ha="ngTempTokenPath",$q=/\n/gm,yy="__source",vy=De({provide:String,useValue:De});let ol;function Wa(t){const e=ol;return ol=t,e}function Wq(t,e=$.Default){if(void 0===ol)throw new Error("inject() must be called from an injection context");return null===ol?cx(t,void 0,e):ol.get(t,e&$.Optional?null:void 0,e)}function P(t,e=$.Default){return(H_||Wq)(U(t),e)}function mo(t){const e=[];for(let n=0;n<t.length;n++){const r=U(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=$.Default;for(let o=0;o<r.length;o++){const a=r[o],u=qq(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(P(i,s))}else e.push(P(r))}return e}function al(t,e){return t[_y]=e,t.prototype[_y]=e,t}function qq(t){return t[_y]}function Xx(t,e,n,r){const i=t[Ha];throw e[yy]&&i.unshift(e[yy]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=oe(e);if(Array.isArray(e))i=e.map(oe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):oe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace($q,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ha]=null,t}const qa=al(po("Inject",t=>({token:t})),-1),Pe=al(po("Optional"),8),Is=al(po("SkipSelf"),4),_R="__ngContext__";function nn(t,e){t[_R]=e}function xy(t){const e=function(t){return t[_R]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function xf(t){return t.ngOriginalError}function V3(t,...e){t.error(...e)}class yo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=this._findContext(e),i=function(t){return t&&t.ngErrorLogger||V3}(e);i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(xf(e)):null}_findOriginalError(e){let n=e&&xf(e);for(;n&&xf(n);)n=xf(n);return n||null}}const DR=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ae))();function ci(t){return t instanceof Function?t():t}var Jn=(()=>((Jn=Jn||{})[Jn.Important=1]="Important",Jn[Jn.DashCase=2]="DashCase",Jn))();function ky(t,e){return undefined(t,e)}function fl(t){const e=t[3];return Pr(e)?e[3]:e}function Py(t){return NR(t[13])}function My(t){return NR(t[4])}function NR(t){for(;null!==t&&!Pr(t);)t=t[4];return t}function Qa(t,e,n,r,i){if(null!=r){let s,o=!1;Pr(r)?s=r:ri(r)&&(o=!0,r=r[0]);const a=dt(r);0===t&&null!==n?null==i?LR(e,n,a):vo(e,n,a,i||null,!0):1===t&&null!==n?vo(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Nf(t,e);r&&function(t,e,n,r){nt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==dt(n)&&Qa(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];pl(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Fy(t,e,n){return nt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function PR(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ty(i,-1)),n.splice(r,1)}function Ly(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&PR(i,r),e>0&&(t[n-1][4]=r[4]);const s=go(t,10+e);!function(t,e){pl(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function MR(t,e){if(!(256&e[2])){const n=e[11];nt(n)&&n.destroyNode&&pl(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Vy(t[1],t);for(;e;){let n=null;if(ri(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)ri(e)&&Vy(e[1],e),e=e[3];null===e&&(e=t),ri(e)&&Vy(e[1],e),n=e&&e[4]}e=n}}(e)}}function Vy(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Jc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):dt(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&nt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Pr(e[3])){n!==e[3]&&PR(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function OR(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===vt.None||i===vt.Emulated)return null}return hr(r,n)}(t,e.parent,n)}function vo(t,e,n,r,i){nt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function LR(t,e,n){nt(t)?t.appendChild(e,n):e.appendChild(n)}function VR(t,e,n,r,i){null!==r?vo(t,e,n,r,i):LR(t,e,n)}function Nf(t,e){return nt(t)?t.parentNode(e):e.parentNode}let jR=function(t,e,n){return 40&t.type?hr(t,n):null};function kf(t,e,n,r){const i=OR(t,r,e),s=e[11],a=function(t,e,n){return jR(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)VR(s,i,n[u],a,!1);else VR(s,i,n,a,!1)}function Pf(t,e){if(null!==e){const n=e.type;if(3&n)return hr(e,t);if(4&n)return By(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Pf(t,r);{const i=t[e.index];return Pr(i)?By(-1,i):dt(i)}}if(32&n)return ky(e,t)()||dt(t[e.index]);{const r=HR(t,e);return null!==r?Array.isArray(r)?r[0]:Pf(fl(t[16]),r):Pf(t,e.next)}}return null}function HR(t,e){return null!==e?t[16][6].projection[e.projection]:null}function By(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Pf(r,i)}return e[7]}function jy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&nn(dt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)jy(t,e,n.child,r,i,s,!1),Qa(e,t,i,a,s);else if(32&u){const c=ky(n,r);let l;for(;l=c();)Qa(e,t,i,l,s);Qa(e,t,i,a,s)}else 16&u?qR(t,e,r,n,i,s):Qa(e,t,i,a,s);n=o?n.projectionNext:n.next}}function pl(t,e,n,r,i,s){jy(n,r,t.firstChild,e,i,s,!1)}function qR(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Qa(e,t,i,u[c],s);else jy(t,e,u,o[3],i,s,!0)}function GR(t,e,n){nt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function $y(t,e,n){nt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function zR(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const KR="ng-template";function lG(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==zR(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function QR(t){return 4===t.type&&t.value!==KR}function dG(t,e,n){return e===(4!==t.type||n?t.value:KR)}function hG(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Fx(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!dG(t,u,n)||""===u&&1===e.length){if(Or(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!lG(t.attrs,c,n)){if(Or(r))return!1;o=!0}continue}const d=fG(8&r?"class":u,i,QR(t),n);if(-1===d){if(Or(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==zR(f,c,0)||2&r&&c!==h){if(Or(r))return!1;o=!0}}}}else{if(!o&&!Or(r)&&!Or(u))return!1;if(o&&Or(u))continue;o=!1,r=u|1&r}}return Or(r)||o}function Or(t){return 0==(1&t)}function fG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function YR(t,e,n=!1){for(let r=0;r<e.length;r++)if(hG(t,e[r],n))return!0;return!1}function JR(t,e){return t?":not("+e.trim()+")":e}function yG(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Or(o)&&(e+=JR(s,i),i=""),r=o,s=s||!Or(r);n++}return""!==i&&(e+=JR(s,i)),e}const Y={};function ZR(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&hf(e,s,n)}else{const s=t.preOrderHooks;null!==s&&ff(e,s,0,n)}vs(n)}function cN(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];oy(i),o.contentQueries(2,e[s],s)}}}function gl(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Cx(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ya(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Dx(),o=ny(),u=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),K.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ii(s,!0),s}function Ja(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ml(t,e,n){cf(e);try{const r=t.viewQuery;null!==r&&av(1,r,n);const i=t.template;null!==i&&lN(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&cN(t,e),t.staticViewQueries&&av(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)JG(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,lf()}}function Xa(t,e,n,r){const i=e[2];if(256==(256&i))return;cf(e);const s=af();try{Cx(e),function(t){K.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&lN(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&hf(e,c,null)}else{const c=t.preOrderHooks;null!==c&&ff(e,c,0,null),ay(e,0)}if(function(t){for(let e=Py(t);null!==e;e=My(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&ty(s,1),i[2]|=1024}}}(e),function(t){for(let e=Py(t);null!==e;e=My(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];ey(r)&&Xa(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&cN(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&hf(e,c)}else{const c=t.contentHooks;null!==c&&ff(e,c,1),ay(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)vs(~i);else{const s=i,o=n[++r],a=n[++r];oq(o,s),a(2,e[s])}}}finally{vs(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)YG(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&av(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&hf(e,c)}else{const c=t.viewHooks;null!==c&&ff(e,c,2),ay(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ty(e[3],-1))}finally{lf()}}function NG(t,e,n,r){const i=e[10],s=!af(),o=function(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&ml(t,e,r),Xa(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function lN(t,e,n,r,i){const s=mn(),o=2&r;try{vs(-1),o&&e.length>20&&ZR(t,e,20,af()),n(r,i)}finally{vs(s)}}function hN(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Lf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Lf(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Y);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function mN(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function yN(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function vN(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function EN(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function WG(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mr(e)&&(n[""]=t)}}function wN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function IN(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ho(i.type)),o=new Jc(s,Mr(i),null);t.blueprint[r]=o,n[r]=o,yN(t,e,0,r,Ja(t,n,i.hostVars,Y),i)}function qG(t,e,n){const r=hr(e,t),i=hN(n),s=t[10],o=Vf(t,gl(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function GG(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function zG(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function YG(t,e){const n=Kn(e,t);if(ey(n)){const r=n[1];80&n[2]?Xa(r,n,r.template,n[8]):n[5]>0&&rv(n)}}function rv(t){for(let r=Py(t);null!==r;r=My(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Xa(o,s,o.template,s[8])}else s[5]>0&&rv(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Kn(n[r],t);ey(i)&&i[5]>0&&rv(i)}}function JG(t,e){const n=Kn(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),ml(r,n,n[8])}function Vf(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ov(t,e,n){const r=e[10];r.begin&&r.begin();try{Xa(t,e,t.template,n)}catch(i){throw function(t,e){const n=t[9],r=n?n.get(yo,null):null;r&&r.handleError(e)}(e,i),i}finally{r.end&&r.end()}}function CN(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=xy(n),i=r[1];NG(i,r,i.template,n)}}(t[8])}function av(t,e,n){oy(0),e(t,n)}const nz=(()=>Promise.resolve(null))();function Bi(t,e,n){const r=function(t,e){return dt(e[t])}(e,t);!function(t,e,n){nt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function Uf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=U_(i,a):2==s&&(r=U_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Za=new pe("INJECTOR",-1);class RN{get(e,n=sl){if(n===sl){const r=new Error(`NullInjectorError: No provider for ${oe(e)}!`);throw r.name="NullInjectorError",r}return n}}const _l=new pe("Set Injector scope."),yl={},sz={};let uv;function NN(){return void 0===uv&&(uv=new RN),uv}function kN(t,e=null,n=null,r){return new az(t,n,e||NN(),r)}class az{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&oi(n,a=>this.processProvider(a,e,n)),oi([e],a=>this.processInjectorType(a,[],s)),this.records.set(Za,eu(void 0,this));const o=this.records.get(_l);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:oe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=sl,r=$.Default){this.assertNotDestroyed();const i=Wa(this),s=gs(void 0);try{if(!(r&$.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function(t){return"function"==typeof t||"object"==typeof t&&t instanceof pe}(e)&&Mi(e);a=u&&this.injectableDefInScope(u)?eu(cv(e),yl):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&$.Self?NN():this.parent).get(e,n=r&$.Optional&&n===sl?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Ha]=o[Ha]||[]).unshift(oe(e)),i)throw o;return Xx(o,e,"R3InjectorError",this.source)}throw o}finally{gs(s),Wa(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(oe(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=U(e)))return!1;let i=ax(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=ax(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{oi(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];oi(f,p=>this.processProvider(p,h,f||Oe))}}this.injectorDefTypes.add(o);const u=ho(o)||(()=>new o);this.records.set(o,eu(u,yl));const c=i.providers;if(null!=c&&!a){const l=e;oi(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=tu(e=U(e))?e:U(e&&e.provide);const s=function(t,e,n){return MN(t)?eu(void 0,t.useValue):eu(function(t,e,n){let r;if(tu(t)){const i=U(t);return ho(i)||cv(i)}if(MN(t))r=()=>U(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...mo(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>P(U(t.useExisting));else{const i=U(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ho(i)||cv(i);r=()=>new i(...mo(t.deps))}return r}(t),yl)}(e);if(tu(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=eu(void 0,yl,!0),o.factory=()=>mo(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===yl&&(n.value=sz,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=U(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function cv(t){const e=Mi(t),n=null!==e?e.factory:ho(t);if(null!==n)return n;if(t instanceof pe)throw new Error(`Token ${oe(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${oe(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[Xh]||t[ux]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function eu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function MN(t){return null!==t&&"object"==typeof t&&vy in t}function tu(t){return"function"==typeof t}const ON=function(t,e,n){return function(t,e=null,n=null,r){const i=kN(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ie=(()=>{class t{static create(n,r){return Array.isArray(n)?ON(n,r,""):ON(n.providers,n.parent,n.name||"")}}return t.THROW_IF_NOT_FOUND=sl,t.NULL=new RN,t.\u0275prov=ae({token:t,providedIn:"any",factory:()=>P(Za)}),t.__NG_ELEMENT_ID__=-1,t})();function Az(t,e){df(xy(t)[1],Et())}let Bf=null;function nu(){if(!Bf){const t=Ae.Symbol;if(t&&t.iterator)Bf=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Bf=r)}}}return Bf}function El(t){return!!mv(t)&&(Array.isArray(t)||!(t instanceof Map)&&nu()in t)}function mv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function iu(t,e,n,r){return function(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}(t,K.lFrame.bindingIndex++,n)?e+Z(n)+r:Y}function j(t,e=$.Default){const n=C();return null===n?P(t,e):Hx(Et(),n,U(t),e)}function Iv(t,e,n,r,i){const o=i?"class":"style";!function(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}(t,n,e.inputs[o],o,r)}function v(t,e,n,r){const i=C(),s=Ee(),o=20+t,a=i[11],u=i[o]=Fy(a,e,K.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Ya(e,t,2,i,ys(a,s));return function(t,e,n,r){let i=!1;if(Tx()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];YR(n,o.selectors,!1)&&(i||(i=[]),yf(Zc(n,e),t,o.type),Mr(o)?(EN(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,wN(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Ja(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=gf(n.mergedAttrs,d.hostAttrs),IN(t,n,e,c,d),WG(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||QR(e)?null:zG(d,s);o.push(h),a=mN(d,c,a),u=mN(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new oo("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}n.mergedAttrs=gf(n.mergedAttrs,n.attrs)}(e,n,c,ys(a,o)),null!==c.attrs&&Uf(c,c.attrs,!1),null!==c.mergedAttrs&&Uf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];ii(c,!0);const l=c.mergedAttrs;null!==l&&pf(a,u,l);const d=c.classes;null!==d&&$y(a,u,d);const h=c.styles;null!==h&&GR(a,u,h),64!=(64&c.flags)&&kf(s,i,u,c),0===K.lFrame.elementDepthCount&&nn(u,i),K.lFrame.elementDepthCount++,function(t){return 1==(1&t.flags)}(c)&&(function(t,e,n){!Tx()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Zc(n,e),nn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Mr(u);c&&qG(e,n,u);const l=el(e,t,a,n);nn(l,e),null!==o&&GG(0,a-i,l,u,0,o),c&&(Kn(n.index,e)[8]=l)}}(t,e,n,hr(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=K.lFrame.currentDirectiveIndex;try{vs(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];iy(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&vN(c,l)}}finally{vs(-1),iy(a)}}(t,e,n))}(s,i,c),function(t,e,n){if(K_(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&function(t,e,n=hr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}(i,c)}function E(){let t=Et();ny()?K.lFrame.isParent=!1:(t=t.parent,ii(t,!1));const e=t;K.lFrame.elementDepthCount--;const n=Ee();n.firstCreatePass&&(df(n,t),K_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Iv(n,e,C(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Iv(n,e,C(),e.stylesWithoutHost,!1)}function L(t,e,n,r){v(t,e,n,r),E()}function Hf(t){return!!t&&"function"==typeof t.then}const bv=function(t){return!!t&&"function"==typeof t.subscribe};function G(t,e=""){const n=C(),r=Ee(),i=t+20,s=r.firstCreatePass?Ya(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return nt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);kf(r,n,o,s),ii(s,!1)}function Sv(t){return Av("",t,""),Sv}function Av(t,e,n){const r=C(),i=iu(r,t,e,n);return i!==Y&&Bi(r,mn(),i),Av}const wo=void 0;var r8=["en",[["a","p"],["AM","PM"],wo],[["AM","PM"],wo,wo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wo,"{1} 'at' {0}",wo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let pu={};function mk(t){return t in pu||(pu[t]=Ae.ng&&Ae.ng.common&&Ae.ng.common.locales&&Ae.ng.common.locales[t]),pu[t]}var k=(()=>((k=k||{})[k.LocaleId=0]="LocaleId",k[k.DayPeriodsFormat=1]="DayPeriodsFormat",k[k.DayPeriodsStandalone=2]="DayPeriodsStandalone",k[k.DaysFormat=3]="DaysFormat",k[k.DaysStandalone=4]="DaysStandalone",k[k.MonthsFormat=5]="MonthsFormat",k[k.MonthsStandalone=6]="MonthsStandalone",k[k.Eras=7]="Eras",k[k.FirstDayOfWeek=8]="FirstDayOfWeek",k[k.WeekendRange=9]="WeekendRange",k[k.DateFormat=10]="DateFormat",k[k.TimeFormat=11]="TimeFormat",k[k.DateTimeFormat=12]="DateTimeFormat",k[k.NumberSymbols=13]="NumberSymbols",k[k.NumberFormats=14]="NumberFormats",k[k.CurrencyCode=15]="CurrencyCode",k[k.CurrencySymbol=16]="CurrencySymbol",k[k.CurrencyName=17]="CurrencyName",k[k.Currencies=18]="Currencies",k[k.Directionality=19]="Directionality",k[k.PluralCase=20]="PluralCase",k[k.ExtraData=21]="ExtraData",k))();const Gf="en-US";let _k=Gf;function Rv(t){qn(t,"Expected localeId to be defined"),"string"==typeof t&&(_k=t.toLowerCase().replace(/_/g,"-"))}class $k{}const Wk="ngComponent";class i6{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${oe(t)}. Did you add it to @NgModule.entryComponents?`);return e[Wk]=t,e}(e)}}let Io=(()=>{class t{}return t.NULL=new i6,t})();function Jf(...t){}function mu(t,e){return new Zn(hr(t,e))}const a6=function(){return mu(Et(),C())};let Zn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=a6,t})();class Xf{}let Vv=(()=>{class t{}return t.\u0275prov=ae({token:t,providedIn:"root",factory:()=>null}),t})();class Sl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Uv=new Sl("12.2.11");class Gk{constructor(){}supports(e){return El(e)}create(e){return new f6(e)}}const h6=(t,e)=>e;class f6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||h6}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Kk(r,i,s)?n:r,a=Kk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!El(e))throw new Error(`Error trying to diff '${oe(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[nu()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new p6(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new zk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class p6{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class g6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class zk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new g6,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Kk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Qk{constructor(){}supports(e){return e instanceof Map||mv(e)}create(){return new m6}}class m6{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||mv(e)))throw new Error(`Error trying to diff '${oe(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new _6(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class _6{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yk(){return new Al([new Gk])}let Al=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Yk()),deps:[[t,new Is,new Pe]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=ae({token:t,providedIn:"root",factory:Yk}),t})();function Jk(){return new _u([new Qk])}let _u=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Jk()),deps:[[t,new Is,new Pe]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=ae({token:t,providedIn:"root",factory:Jk}),t})();function ep(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(dt(s)),Pr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&ep(u[1],u,c,r)}const o=n.type;if(8&o)ep(t,e,n.child,r);else if(32&o){const a=ky(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=HR(e,n);if(Array.isArray(a))r.push(...a);else{const u=fl(e[16]);ep(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class xl{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return ep(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Pr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Ly(e,r),go(n,r))}this._attachedToViewContainer=!1}MR(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,r){const i=function(t){return t[7]||(t[7]=[])}(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){!function(t){for(;t;){t[2]|=64;const e=fl(t);if(BW(t)&&!e)return t;t=e}}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ov(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){uf(!0);try{ov(t,e,n)}finally{uf(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(t,e){pl(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class v6 extends xl{constructor(e){super(e),this._view=e}detectChanges(){CN(this._view)}checkNoChanges(){!function(t){uf(!0);try{CN(t)}finally{uf(!1)}}(this._view)}get context(){return null}}const w6=function(t){return function(t,e,n){if(rf(t)&&!n){const r=Kn(t.index,e);return new xl(r,r)}return 47&t.type?new xl(e[16],e):null}(Et(),C(),16==(16&t))};let Bv=(()=>{class t{}return t.__NG_ELEMENT_ID__=w6,t})();const C6=[new Qk],D6=new Al([new Gk]),S6=new _u(C6);class pi{}class Xk{}const M6=function(){return function(t,e){let n;const r=e[t.index];if(Pr(r))n=r;else{let i;if(8&t.type)i=dt(r);else{const s=e[11];i=s.createComment("");const o=hr(t,e);vo(s,Nf(s,o),i,function(t,e){return nt(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=function(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}(r,e,i,t),Vf(e,n)}return new Zk(n,t,e)}(Et(),C())};let jr=(()=>{class t{}return t.__NG_ELEMENT_ID__=M6,t})();const F6=jr,Zk=class extends F6{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return mu(this._hostTNode,this._hostLView)}get injector(){return new Va(this._hostTNode,this._hostLView)}get parentInjector(){const e=_f(this._hostTNode,this._hostLView);if(Vx(e)){const n=La(e,this._hostLView),r=Fa(e);return new Va(n[1].data[r+8],n)}return new Va(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=eP(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=r||this.parentInjector;if(!s&&null==e.ngModule&&o){const u=o.get(pi,null);u&&(s=u)}const a=e.create(o,i,void 0,s);return this.insert(a.hostView,n),a}insert(e,n){const r=e._lView,i=r[1];if(function(t){return Pr(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new Zk(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],If(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=By(s,o),u=r[11],c=Nf(u,o[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,pl(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),If(jv(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=eP(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Ly(this._lContainer,n);r&&(go(jv(this._lContainer),n),MR(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Ly(this._lContainer,n);return r&&null!=go(jv(this._lContainer),n)?new xl(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function eP(t){return t[8]}function jv(t){return t[8]||(t[8]=[])}const wu={};class wP extends Io{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=pn(e);return new bP(n,this.ngModule)}}function IP(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const k7=new pe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>DR});class bP extends $k{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function(t){return t.map(yG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return IP(this.componentDef.inputs)}get outputs(){return IP(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,wu,i);return s!==wu||r===wu?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(Xf,Ix),a=s.get(Vv,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function(t,e,n){if(nt(t))return t.selectRootElement(e,n===vt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Fy(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||DR,clean:nz,playerHandler:e||null,flags:0}}(),f=Lf(0,null,null,1,0,null,null,null,null,null),p=gl(null,f,h,d,null,null,o,u,a,s);let m,g;cf(p);try{const w=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Ya(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Uf(u,c,!0),null!==t&&(pf(i,t,c),null!==u.classes&&$y(i,t,u.classes),null!==u.styles&&GR(i,t,u.styles)));const l=r.createRenderer(t,e),d=gl(n,hN(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(yf(Zc(u,n),o,e.type),EN(o,u),wN(u,n.length,1)),Vf(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)pf(u,l,["ng-version",Uv.full]);else{const{attrs:y,classes:D}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Or(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&pf(u,l,y),D&&D.length>0&&$y(u,l,D.join(" "))}if(g=function(t,e){return t.data[e]}(f,20),void 0!==n){const y=g.projection=[];for(let D=0;D<this.ngContentSelectors.length;D++){const M=n[D];y.push(null!=M?Array.from(M):null)}}m=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Et();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),IN(t,r,e,Ja(t,e,1,null),n));const i=el(e,t,r.directiveStart,r);nn(i,e);const s=hr(r,e);return s&&nn(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=Et();e.contentQueries(1,o,u.directiveStart)}const a=Et();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(vs(a.index),yN(n[1],a,0,a.directiveStart,a.directiveEnd,e),vN(e,o)),o}(w,this.componentDef,p,h,[Az]),ml(f,p,null)}finally{lf()}return new O7(this.componentType,m,mu(g,p),p,g)}}class O7 extends class{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new v6(i),this.componentType=e}get injector(){return new Va(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Iu=new Map;class V7 extends pi{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wP(this);const r=cr(e),i=function(t){return t[kW]||null}(e);i&&Rv(i),this._bootstrapComponents=ci(r.bootstrap),this._r3Injector=kN(e,n,[{provide:pi,useValue:this},{provide:Io,useValue:this.componentFactoryResolver}],oe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Ie.THROW_IF_NOT_FOUND,r=$.Default){return e===Ie||e===pi||e===Za?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class eE extends Xk{constructor(e){super(),this.moduleType=e,null!==cr(e)&&function(t){const e=new Set;!function n(r){const i=cr(r,!0),s=i.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${oe(e)} vs ${oe(e.name)}`)}(s,Iu.get(s),r),Iu.set(s,r));const o=ci(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new V7(this.moduleType,e)}}function tE(t){return e=>{setTimeout(t,void 0,e)}}const yr=class extends ki{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=tE(u),a&&(a=tE(a)),c&&(c=tE(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof Ne&&e.add(l),l}};Symbol;const jl=new pe("Application Initializer");let Cu=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Jf,this.reject=Jf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Hf(s))n.push(s);else if(bv(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(P(jl,8))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();const $l=new pe("AppId"),BK={provide:$l,useFactory:function(){return`${gE()}${gE()}${gE()}`},deps:[]};function gE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ZP=new pe("Platform Initializer"),Hl=new pe("Platform ID"),eM=new pe("appBootstrapListener");let cp=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();const Ds=new pe("LocaleId"),tM=new pe("DefaultCurrencyCode");class $K{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const mE=function(t){return new eE(t)},HK=mE,WK=function(t){return Promise.resolve(mE(t))},nM=function(t){const e=mE(t),r=ci(cr(t).declarations).reduce((i,s)=>{const o=pn(s);return o&&i.push(new bP(o)),i},[]);return new $K(e,r)},qK=nM,GK=function(t){return Promise.resolve(nM(t))};let To=(()=>{class t{constructor(){this.compileModuleSync=HK,this.compileModuleAsync=WK,this.compileModuleAndAllComponentsSync=qK,this.compileModuleAndAllComponentsAsync=GK}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();const QK=(()=>Promise.resolve(0))();function _E(t){"undefined"==typeof Zone?QK.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ge{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yr(!1),this.onMicrotaskEmpty=new yr(!1),this.onStable=new yr(!1),this.onError=new yr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=Ae.requestAnimationFrame,e=Ae.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ae,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vE(t),t.isCheckStableRunning=!0,yE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return rM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),iM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return rM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),iM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,vE(t),yE(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ge.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ge.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,JK,Jf,Jf);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const JK={};function yE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function rM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function iM(t){t._nesting--,yE(t)}class e5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yr,this.onMicrotaskEmpty=new yr,this.onStable=new yr,this.onError=new yr}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let EE=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ge.assertNotInAngularZone(),_E(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_E(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(P(Ge))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})(),sM=(()=>{class t{constructor(){this._applications=new Map,wE.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return wE.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();class t5{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let wE=new t5,oM=!0,aM=!1;let Wr;const cM=new pe("AllowMultipleToken");class IE{constructor(e,n){this.name=e,this.token=n}}function lM(t,e,n=[]){const r=`Platform: ${e}`,i=new pe(r);return(s=[])=>{let o=dM();if(!o||o.injector.get(cM,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:_l,useValue:"platform"});!function(t){if(Wr&&!Wr.destroyed&&!Wr.injector.get(cM,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Wr=t.get(hM);const e=t.get(ZP,null);e&&e.forEach(n=>n())}(Ie.create({providers:a,name:r}))}return function(t){const e=dM();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function dM(){return Wr&&!Wr.destroyed?Wr:null}let hM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new e5:("zone.js"===t?void 0:t)||new Ge({enableLongStackTrace:(aM=!0,oM),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Ge,useValue:a}];return a.run(()=>{const c=Ie.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(yo,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{bE(this._modules,l),h.unsubscribe()})}),function(t,e,n){try{const r=n();return Hf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(Cu);return h.runInitializers(),h.donePromise.then(()=>(Rv(l.injector.get(Ds,Gf)||Gf),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=fM({},r);return function(t,e,n){const r=new eE(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Tu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${oe(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(P(Ie))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();function fM(t,e){return Array.isArray(e)?e.reduce(fM,t):Object.assign(Object.assign({},t),e)}let Tu=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new se(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new se(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),_E(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return Qh(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof se?t[0]:qc(e)(F_(t,n))}(a,u.pipe(t=>L_()(function(t,e){return function(r){let i;i="function"==typeof t?t:function(){return t};const s=Object.create(r,fW);return s.source=r,s.subjectFactory=i,s}}(yW)(t))))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof $k?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(pi),a=i.create(Ie.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(EE,null),l=c&&a.injector.get(sM);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),bE(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;bE(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(eM,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(P(Ge),P(Ie),P(yo),P(Io),P(Cu))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();function bE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dp{}class m5{}const _5={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let y5=(()=>{class t{constructor(n,r){this._compiler=n,this._config=r||_5}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[r,i]=n.split("#");return void 0===i&&(i="default"),xr(255)(r).then(s=>s[i]).then(s=>_M(s,r,i)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(n){let[r,i]=n.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),xr(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(o=>o[i+s]).then(o=>_M(o,r,i))}}return t.\u0275fac=function(n){return new(n||t)(P(To),P(m5,8))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();function _M(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const A5=lM(null,"core",[{provide:Hl,useValue:"unknown"},{provide:hM,deps:[Ie]},{provide:sM,deps:[]},{provide:cp,deps:[]}]),P5=[{provide:Tu,useClass:Tu,deps:[Ge,Ie,yo,Io,Cu]},{provide:k7,deps:[Ge],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:Cu,useClass:Cu,deps:[[new Pe,jl]]},{provide:To,useClass:To,deps:[]},BK,{provide:Al,useFactory:function(){return D6},deps:[]},{provide:_u,useFactory:function(){return S6},deps:[]},{provide:Ds,useFactory:function(t){return Rv(t=t||"undefined"!=typeof $localize&&$localize.locale||Gf),t},deps:[[new qa(Ds),new Pe,new Is]]},{provide:tM,useValue:"USD"}];let O5=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(P(Tu))},t.\u0275mod=Nr({type:t}),t.\u0275inj=Gn({providers:P5}),t})(),wp=null;function As(){return wp}const jt=new pe("DocumentToken");let Ao=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ae({factory:MQ,token:t,providedIn:"platform"}),t})();function MQ(){return P(jM)}const OQ=new pe("Location Initialized");let jM=(()=>{class t extends Ao{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return As().getBaseHref(this._doc)}onPopState(n){const r=As().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=As().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){$M()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){$M()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(P(jt))},t.\u0275prov=ae({factory:FQ,token:t,providedIn:"platform"}),t})();function $M(){return!!window.history.pushState}function FQ(){return new jM(P(jt))}function VE(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function HM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Wi(t){return t&&"?"!==t[0]?"?"+t:t}let Au=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ae({factory:LQ,token:t,providedIn:"root"}),t})();function LQ(t){const e=P(jt).location;return new WM(P(Ao),e&&e.origin||"")}const UE=new pe("appBaseHref");let WM=(()=>{class t extends Au{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return VE(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Wi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Wi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Wi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(P(Ao),P(UE,8))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})(),VQ=(()=>{class t extends Au{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=VE(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Wi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Wi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(P(Ao),P(UE,8))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})(),Ip=(()=>{class t{constructor(n,r){this._subject=new yr,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=HM(qM(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Wi(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,qM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wi(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wi(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.\u0275fac=function(n){return new(n||t)(P(Au),P(Ao))},t.normalizeQueryParams=Wi,t.joinWithSlash=VE,t.stripTrailingSlash=HM,t.\u0275prov=ae({factory:UQ,token:t,providedIn:"root"}),t})();function UQ(){return new Ip(P(Au),P(Ao))}function qM(t){return t.replace(/\/index.html$/,"")}var ht=(()=>((ht=ht||{})[ht.Zero=0]="Zero",ht[ht.One=1]="One",ht[ht.Two=2]="Two",ht[ht.Few=3]="Few",ht[ht.Many=4]="Many",ht[ht.Other=5]="Other",ht))();const zQ=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=mk(e);if(n)return n;const r=e.split("-")[0];if(n=mk(r),n)return n;if("en"===r)return r8;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[k.PluralCase]};class kp{}let I9=(()=>{class t extends kp{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(zQ(r||this.locale)(n)){case ht.Zero:return"zero";case ht.One:return"one";case ht.Two:return"two";case ht.Few:return"few";case ht.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(P(Ds))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})(),nY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nr({type:t}),t.\u0275inj=Gn({providers:[{provide:kp,useClass:I9}]}),t})();let sO=(()=>{class t{}return t.\u0275prov=ae({token:t,providedIn:"root",factory:()=>new oY(P(jt),window)}),t})();class oY{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=oO(this.window.history)||oO(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function oO(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class XE extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(t){wp||(wp=t)}(new XE)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Yl=Yl||document.querySelector("base"),Yl?Yl.getAttribute("href"):null);return null==n?null:function(t){Pp=Pp||document.createElement("a"),Pp.setAttribute("href",t);const e=Pp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Yl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Pp,Yl=null;const aO=new pe("TRANSITION_ID"),fY=[{provide:jl,useFactory:function(t,e,n){return()=>{n.get(Cu).donePromise.then(()=>{const r=As(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[aO,jt,Ie],multi:!0}];class ZE{static init(){!function(t){wE=t}(new ZE)}addToWindow(e){Ae.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ae.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.getAllAngularRootElements=()=>e.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(r=>{const i=Ae.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?As().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let pY=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();const Jl=new pe("EventManagerPlugins");let Op=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(P(Jl),P(Ge))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();class ew{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=As().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let cO=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})(),Xl=(()=>{class t extends cO{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(lO),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(lO))}}return t.\u0275fac=function(n){return new(n||t)(P(jt))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();function lO(t){As().remove(t)}const tw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nw=/%COMP%/g;function Fp(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Fp(t,i,n):(i=i.replace(nw,t),n.push(i))}return n}function fO(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let rw=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new iw(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case vt.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new xY(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case vt.ShadowDom:return new RY(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Fp(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(P(Op),P(Xl),P($l))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();class iw{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(tw[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=tw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=tw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Jn.DashCase|Jn.Important)?e.style.setProperty(n,r,i&Jn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Jn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,fO(r)):this.eventManager.addEventListener(e,n,fO(r))}}class xY extends iw{constructor(e,n,r,i){super(e),this.component=r;const s=Fp(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function(t){return"_ngcontent-%COMP%".replace(nw,t)}(i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(nw,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class RY extends iw{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Fp(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let NY=(()=>{class t extends ew{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(P(jt))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();const mO=["alt","control","meta","shift"],VY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_O={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},UY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let BY=(()=>{class t extends ew{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>As().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(mO.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&_O.hasOwnProperty(e)&&(e=_O[e]))}return VY[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),mO.forEach(s=>{s!=i&&UY[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return t.\u0275fac=function(n){return new(n||t)(P(jt))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();const KY=lM(A5,"browser",[{provide:Hl,useValue:"browser"},{provide:ZP,useValue:function(){XE.makeCurrent(),ZE.init()},multi:!0},{provide:jt,useFactory:function(){return function(t){J_=t}(document),document},deps:[]}]),QY=[[],{provide:_l,useValue:"root"},{provide:yo,useFactory:function(){return new yo},deps:[]},{provide:Jl,useClass:NY,multi:!0,deps:[jt,Ge,Hl]},{provide:Jl,useClass:BY,multi:!0,deps:[jt]},[],{provide:rw,useClass:rw,deps:[Op,Xl,$l]},{provide:Xf,useExisting:rw},{provide:cO,useExisting:Xl},{provide:Xl,useClass:Xl,deps:[jt]},{provide:EE,useClass:EE,deps:[Ge]},{provide:Op,useClass:Op,deps:[Jl,Ge]},{provide:class{},useClass:pY,deps:[]},[]];let YY=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:$l,useValue:n.appId},{provide:aO,useExisting:$l},fY]}}}return t.\u0275fac=function(n){return new(n||t)(P(t,12))},t.\u0275mod=Nr({type:t}),t.\u0275inj=Gn({providers:QY,imports:[nY,O5]}),t})();function ee(...t){let e=t[t.length-1];return Qh(e)?(t.pop(),k_(t,e)):F_(t)}"undefined"!=typeof window&&window;class Qr extends ki{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return n&&!n.closed&&e.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Aa;return this._value}next(e){super.next(this._value=e)}}class iJ extends ke{notifyNext(e,n,r,i,s){this.destination.next(n)}notifyError(e,n){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class sJ extends ke{constructor(e,n,r){super(),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function oJ(t,e,n,r,i=new sJ(t,n,r)){if(!i.closed)return e instanceof se?e.subscribe(i):N_(e)(i)}const vO={};class uJ{constructor(e){this.resultSelector=e}call(e,n){return n.subscribe(new cJ(e,this.resultSelector))}}class cJ extends iJ{constructor(e,n){super(e),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(vO),this.observables.push(e)}_complete(){const e=this.observables,n=e.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let r=0;r<n;r++)this.add(oJ(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,n,r){const i=this.values,o=this.toRespond?i[r]===vO?--this.toRespond:this.toRespond:0;i[r]=n,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let n;try{n=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const Lp=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function cw(...t){return qc(1)(ee(...t))}const xu=new se(t=>t.complete());function Vp(t){return t?function(t){return new se(e=>t.schedule(()=>e.complete()))}(t):xu}function EO(t){return new se(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?hn(n):Vp()).subscribe(e)})}function Rs(t,e){return"function"==typeof e?n=>n.pipe(Rs((r,i)=>hn(t(r,i)).pipe(We((s,o)=>e(r,s,i,o))))):n=>n.lift(new hJ(t))}class hJ{constructor(e){this.project=e}call(e,n){return n.subscribe(new fJ(e,this.project))}}class fJ extends M_{constructor(e,n){super(e),this.project=n,this.index=0}_next(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(n)}_innerSub(e){const n=this.innerSubscription;n&&n.unsubscribe();const r=new P_(this),i=this.destination;i.add(r),this.innerSubscription=O_(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const wO=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function lw(t){return e=>0===t?Vp():e.lift(new pJ(t))}class pJ{constructor(e){if(this.total=e,this.total<0)throw new wO}call(e,n){return n.subscribe(new gJ(e,this.total))}}class gJ extends ke{constructor(e,n){super(e),this.total=n,this.count=0}_next(e){const n=this.total,r=++this.count;r<=n&&(this.destination.next(e),r===n&&(this.destination.complete(),this.unsubscribe()))}}function IO(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new _J(t,e,n))}}class _J{constructor(e,n,r=!1){this.accumulator=e,this.seed=n,this.hasSeed=r}call(e,n){return n.subscribe(new yJ(e,this.accumulator,this.seed,this.hasSeed))}}class yJ extends ke{constructor(e,n,r,i){super(e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const n=this.index++;let r;try{r=this.accumulator(this.seed,e,n)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function Ru(t,e){return function(r){return r.lift(new vJ(t,e))}}class vJ{constructor(e,n){this.predicate=e,this.thisArg=n}call(e,n){return n.subscribe(new EJ(e,this.predicate,this.thisArg))}}class EJ extends ke{constructor(e,n,r){super(e),this.predicate=n,this.thisArg=r,this.count=0}_next(e){let n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}n&&this.destination.next(e)}}function xo(t){return function(n){const r=new wJ(t),i=n.lift(r);return r.caught=i}}class wJ{constructor(e){this.selector=e}call(e,n){return n.subscribe(new IJ(e,this.selector,this.caught))}}class IJ extends M_{constructor(e,n,r){super(e),this.selector=n,this.caught=r}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new P_(this);this.add(r);const i=O_(n,r);i!==r&&this.add(i)}}}function Zl(t,e){return Bt(t,e,1)}function dw(t){return function(n){return 0===t?Vp():n.lift(new bJ(t))}}class bJ{constructor(e){if(this.total=e,this.total<0)throw new wO}call(e,n){return n.subscribe(new CJ(e,this.total))}}class CJ extends ke{constructor(e,n){super(e),this.total=n,this.ring=new Array,this.count=0}_next(e){const n=this.ring,r=this.total,i=this.count++;n.length<r?n.push(e):n[i%r]=e}_complete(){const e=this.destination;let n=this.count;if(n>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<r;s++){const o=n++%r;e.next(i[o])}}e.complete()}}function bO(t=SJ){return e=>e.lift(new TJ(t))}class TJ{constructor(e){this.errorFactory=e}call(e,n){return n.subscribe(new DJ(e,this.errorFactory))}}class DJ extends ke{constructor(e,n){super(e),this.errorFactory=n,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(n){e=n}this.destination.error(e)}}}function SJ(){return new Lp}function CO(t=null){return e=>e.lift(new AJ(t))}class AJ{constructor(e){this.defaultValue=e}call(e,n){return n.subscribe(new xJ(e,this.defaultValue))}}class xJ extends ke{constructor(e,n){super(e),this.defaultValue=n,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Nu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ru((i,s)=>t(i,s,r)):ye,lw(1),n?CO(e):bO(()=>new Lp))}function Ns(){}function Pn(t,e,n){return function(i){return i.lift(new NJ(t,e,n))}}class NJ{constructor(e,n,r){this.nextOrObserver=e,this.error=n,this.complete=r}call(e,n){return n.subscribe(new kJ(e,this.nextOrObserver,this.error,this.complete))}}class kJ extends ke{constructor(e,n,r,i){super(e),this._tapNext=Ns,this._tapError=Ns,this._tapComplete=Ns,this._tapError=r||Ns,this._tapComplete=i||Ns,$n(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||Ns,this._tapError=n.error||Ns,this._tapComplete=n.complete||Ns)}_next(e){try{this._tapNext.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class MJ{constructor(e){this.callback=e}call(e,n){return n.subscribe(new OJ(e,this.callback))}}class OJ extends ke{constructor(e,n){super(e),this.add(new Ne(n))}}class Gi{constructor(e,n){this.id=e,this.url=n}}class hw extends Gi{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ed extends Gi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class TO extends Gi{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class FJ extends Gi{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class LJ extends Gi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VJ extends Gi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UJ extends Gi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class BJ extends Gi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jJ extends Gi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DO{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class SO{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $J{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HJ{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WJ{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qJ{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const he="primary";class GJ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ku(t){return new GJ(t)}const xO="ngNavigationCancelingError";function fw(t){const e=Error("NavigationCancelingError: "+t);return e[xO]=!0,e}function KJ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function gi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!RO(t[i],e[i]))return!1;return!0}function RO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function NO(t){return Array.prototype.concat.apply([],t)}function kO(t){return t.length>0?t[t.length-1]:null}function $t(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function mi(t){return bv(t)?t:Hf(t)?hn(Promise.resolve(t)):ee(t)}const JJ={exact:function OO(t,e,n){if(!No(t.segments,e.segments)||!Up(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!OO(t.children[r],e.children[r],n))return!1;return!0},subset:FO},PO={exact:function(t,e){return gi(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>RO(t[n],e[n]))},ignored:()=>!0};function MO(t,e,n){return JJ[n.paths](t.root,e.root,n.matrixParams)&&PO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function FO(t,e,n){return LO(t,e,e.segments,n)}function LO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!No(i,n)||e.hasChildren()||!Up(i,n,r))}if(t.segments.length===n.length){if(!No(t.segments,n)||!Up(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!FO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(No(t.segments,i)&&Up(t.segments,i,r)&&t.children[he])&&LO(t.children[he],e,s,r)}}function Up(t,e,n){return e.every((r,i)=>PO[n](t[i].parameters,r.parameters))}class Ro{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ku(this.queryParams)),this._queryParamMap}toString(){return nX.serialize(this)}}class me{constructor(e,n){this.segments=e,this.children=n,this.parent=null,$t(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bp(this)}}class td{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ku(this.parameters)),this._parameterMap}toString(){return jO(this)}}function No(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class pw{}class VO{parse(e){const n=new dX(e);return new Ro(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){return`${`/${nd(e.root,!0)}`}${function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${jp(n)}=${jp(i)}`).join("&"):`${jp(n)}=${jp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(t){return encodeURI(t)}(e.fragment)}`:""}`}}const nX=new VO;function Bp(t){return t.segments.map(e=>jO(e)).join("/")}function nd(t,e){if(!t.hasChildren())return Bp(t);if(e){const n=t.children[he]?nd(t.children[he],!1):"",r=[];return $t(t.children,(i,s)=>{s!==he&&r.push(`${s}:${nd(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return $t(t.children,(r,i)=>{i===he&&(n=n.concat(e(r,i)))}),$t(t.children,(r,i)=>{i!==he&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===he?[nd(t.children[he],!1)]:[`${i}:${nd(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[he]?`${Bp(t)}/${n[0]}`:`${Bp(t)}/(${n.join("//")})`}}function UO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jp(t){return UO(t).replace(/%3B/gi,";")}function gw(t){return UO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $p(t){return decodeURIComponent(t)}function BO(t){return $p(t.replace(/\+/g,"%20"))}function jO(t){return`${gw(t.path)}${function(t){return Object.keys(t).map(e=>`;${gw(e)}=${gw(t[e])}`).join("")}(t.parameters)}`}const oX=/^[^\/()?;=#]+/;function Hp(t){const e=t.match(oX);return e?e[0]:""}const aX=/^[^=?&#]+/,cX=/^[^?&#]+/;class dX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[he]=new me(e,n)),r}parseSegment(){const e=Hp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new td($p(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Hp(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Hp(this.remaining);i&&(r=i,this.capture(r))}e[$p(n)]=$p(r)}parseQueryParam(e){const n=function(t){const e=t.match(aX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function(t){const e=t.match(cX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=BO(n),s=BO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=he);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[he]:new me([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class $O{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=mw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=mw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=_w(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _w(e,this._root).map(n=>n.value)}}function mw(t,e){if(t===e.value)return e;for(const n of e.children){const r=mw(t,n);if(r)return r}return null}function _w(t,e){if(t===e.value)return[e];for(const n of e.children){const r=_w(t,n);if(r.length)return r.unshift(e),r}return[]}class zi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function rd(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class HO extends $O{constructor(e,n){super(e),this.snapshot=n,yw(this,e)}toString(){return this.snapshot.toString()}}function WO(t,e){const n=function(t,e){const o=new Wp([],{},{},"",{},he,e,null,t.root,-1,{});return new GO("",new zi(o,[]))}(t,e),r=new Qr([new td("",{})]),i=new Qr({}),s=new Qr({}),o=new Qr({}),a=new Qr(""),u=new Pu(r,i,o,a,s,he,e,n.root);return u.snapshot=n.root,new HO(new zi(u,[]),n)}class Pu{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(We(e=>ku(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(We(e=>ku(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Wp{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ku(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ku(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GO extends $O{constructor(e,n){super(n),this.url=e,yw(this,n)}toString(){return zO(this._root)}}function yw(t,e){e.value._routerState=t,e.children.forEach(n=>yw(t,n))}function zO(t){const e=t.children.length>0?` { ${t.children.map(zO).join(", ")} } `:"";return`${t.value}${e}`}function vw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,gi(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),gi(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!gi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),gi(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ew(t,e){return gi(t.params,e.params)&&function(t,e){return No(t,e)&&t.every((n,r)=>gi(n.parameters,e[r].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Ew(t.parent,e.parent))}function qp(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return qp(t,r,i);return qp(t,r)})}(t,e,n);return new zi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return KO(e,o),o}}const r=function(t){return new Pu(new Qr(t.url),new Qr(t.params),new Qr(t.queryParams),new Qr(t.fragment),new Qr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>qp(t,s));return new zi(r,i)}}function KO(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)KO(t.children[n],e.children[n])}function Gp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function id(t){return"object"==typeof t&&null!=t&&t.outlets}function ww(t,e,n,r,i){let s={};return r&&$t(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new Ro(n.root===t?e:QO(n.root,t,e),s,i)}function QO(t,e,n){const r={};return $t(t.children,(i,s)=>{r[s]=i===e?n:QO(i,e,n)}),new me(t.segments,r)}class YO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Gp(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(id);if(i&&i!==kO(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Iw{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function JO(t,e,n){if(t||(t=new me([],{})),0===t.segments.length&&t.hasChildren())return zp(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(id(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!ZO(u,c,o))return s;r+=2}else{if(!ZO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new me(t.segments.slice(0,r.pathIndex),{});return s.children[he]=new me(t.segments.slice(r.pathIndex),t.children),zp(s,0,i)}return r.match&&0===i.length?new me(t.segments,{}):r.match&&!t.hasChildren()?bw(t,e,n):r.match?zp(t,0,i):bw(t,e,n)}function zp(t,e,n){if(0===n.length)return new me(t.segments,{});{const r=function(t){return id(t[0])?t[0].outlets:{[he]:t}}(n),i={};return $t(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=JO(t.children[o],e,s))}),$t(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new me(t.segments,i)}}function bw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(id(s)){const u=bX(s.outlets);return new me(r,u)}if(0===i&&Gp(n[0])){r.push(new td(t.segments[e].path,XO(n[0]))),i++;continue}const o=id(s)?s.outlets[he]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Gp(a)?(r.push(new td(o,XO(a))),i+=2):(r.push(new td(o,{})),i++)}return new me(r,{})}function bX(t){const e={};return $t(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=bw(new me([],{}),0,n))}),e}function XO(t){const e={};return $t(t,(n,r)=>e[r]=`${n}`),e}function ZO(t,e,n){return t==n.path&&gi(e,n.parameters)}class TX{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),vw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=rd(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),$t(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:s})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=rd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=rd(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new qJ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new HJ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(vw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),eF(a.route)}else{const a=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function eF(t){vw(t.value),t.children.forEach(eF)}class Cw{constructor(e,n){this.routes=e,this.module=n}}function ks(t){return"function"==typeof t}function ko(t){return t instanceof Ro}const sd=Symbol("INITIAL_VALUE");function od(){return Rs(t=>function(...t){let e,n;return Qh(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&io(t[0])&&(t=t[0]),F_(t,n).lift(new uJ(e))}(t.map(e=>e.pipe(lw(1),function(...t){const e=t[t.length-1];return Qh(e)?(t.pop(),n=>cw(t,n,e)):n=>cw(t,n)}(sd)))).pipe(IO((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==sd?i:(s===sd&&(r=!0),r||!1!==s&&o!==n.length-1&&!ko(s)?i:s),e)},sd),Ru(e=>e!==sd),We(e=>ko(e)?e:!0===e),lw(1)))}let tF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Fi({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&L(0,"router-outlet")},directives:function(){return[Nw]},encapsulation:2}),t})();function nF(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];kX(r,PX(e,r))}}function kX(t,e){t.children&&nF(t.children,e)}function PX(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Tw(t){const e=t.children&&t.children.map(Tw),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==he&&(n.component=tF),n}function wr(t){return t.outlet||he}function rF(t,e){const n=t.filter(r=>wr(r)===e);return n.push(...t.filter(r=>wr(r)!==e)),n}const iF={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Kp(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},iF):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||KJ)(n,t,e);if(!s)return Object.assign({},iF);const o={};$t(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Qp(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>Yp(t,e,r)&&wr(r)!==he)}(t,n,r)){const o=new me(e,function(t,e,n,r){const i={};i[he]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&wr(s)!==he){const o=new me([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[wr(s)]=o}return i}(t,e,r,new me(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>Yp(t,e,r))}(t,n,r)){const o=new me(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Yp(t,n,a)&&!i[wr(a)]){const u=new me([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[wr(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new me(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Yp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function sF(t,e,n,r){return!!(wr(t)===r||r!==he&&Yp(e,n,t))&&("**"===t.path||Kp(e,t,n).matched)}function oF(t,e,n){return 0===e.length&&!t.children[n]}class ad{constructor(e){this.segmentGroup=e||null}}class aF{constructor(e){this.urlTree=e}}function Jp(t){return new se(e=>e.error(new ad(t)))}function uF(t){return new se(e=>e.error(new aF(t)))}function VX(t){return new se(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class jX{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(pi)}apply(){const e=Qp(this.urlTree.root,[],[],this.config).segmentGroup,n=new me(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,he).pipe(We(s=>this.createUrlTree(Dw(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xo(s=>{if(s instanceof aF)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof ad?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,he).pipe(We(i=>this.createUrlTree(Dw(i),e.queryParams,e.fragment))).pipe(xo(i=>{throw i instanceof ad?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new me([],{[he]:e}):e;return new Ro(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(We(s=>new me([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return hn(i).pipe(Zl(s=>{const o=r.children[s],a=rF(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(We(u=>({segment:u,outlet:s})))}),IO((s,o)=>(s[o.outlet]=o.segment,s),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ru((i,s)=>t(i,s,r)):ye,dw(1),n?CO(e):bO(()=>new Lp))}())}expandSegment(e,n,r,i,s,o){return hn(r).pipe(Zl(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(xo(c=>{if(c instanceof ad)return ee(null);throw c}))),Nu(a=>!!a),xo((a,u)=>{if(a instanceof Lp||"EmptyError"===a.name){if(oF(n,i,s))return ee(new me([],{}));throw new ad(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return sF(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Jp(n):Jp(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?uF(s):this.lineralizeSegments(r,s).pipe(Bt(o=>{const a=new me(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=Kp(n,i,s);if(!a)return Jp(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?uF(d):this.lineralizeSegments(i,d).pipe(Bt(h=>this.expandSegment(e,n,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ee(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(We(h=>(r._loadedConfig=h,new me(i,{})))):ee(new me(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=Kp(n,r,i);if(!o)return Jp(n);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(Bt(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:m}=Qp(n,a,c,f),g=new me(p.segments,p.children);if(0===m.length&&g.hasChildren())return this.expandChildren(h,f,g).pipe(We(M=>new me(a,M)));if(0===f.length&&0===m.length)return ee(new me(a,{}));const w=wr(r)===s;return this.expandSegment(h,g,f,m,w?he:s,!0).pipe(We(D=>new me(a.concat(D.segments),D.children)))}))}getChildConfig(e,n,r){return n.children?ee(new Cw(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?ee(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(Bt(i=>i?this.configLoader.load(e.injector,n).pipe(We(s=>(n._loadedConfig=s,s))):function(t){return new se(e=>e.error(fw(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):ee(new Cw([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?ee(i.map(o=>{const a=e.get(o);let u;if(function(t){return t&&ks(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!ks(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return mi(u)})).pipe(od(),Pn(o=>{if(!ko(o))return;const a=fw(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),We(o=>!0===o)):ee(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[he])return VX(e.redirectTo);i=i.children[he]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ro(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return $t(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return $t(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new me(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function Dw(t){const e={};for(const r of Object.keys(t.children)){const s=Dw(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(t){if(1===t.numberOfChildren&&t.children[he]){const e=t.children[he];return new me(t.segments.concat(e.segments),e.children)}return t}(new me(t.segments,e))}class cF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xp{constructor(e,n){this.component=e,this.route=n}}function WX(t,e,n){const r=t._root;return ud(r,e?e._root:null,n,[r.value])}function Zp(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ud(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=rd(e);return t.children.forEach(o=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!No(t.url,e.url);case"pathParamsOrQueryParamsChange":return!No(t.url,e.url)||!gi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ew(t,e)||!gi(t.queryParams,e.queryParams);case"paramsChange":default:return!Ew(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new cF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ud(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xp(a.outlet.component,o))}else o&&cd(e,a,i),i.canActivateChecks.push(new cF(r)),ud(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),$t(s,(o,a)=>cd(o,n.getContext(a),i)),i}function cd(t,e,n){const r=rd(t),i=t.value;$t(r,(s,o)=>{cd(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Xp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class rZ{}function lF(t){return new se(e=>e.error(t))}class sZ{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Qp(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,he);if(null===n)return null;const r=new Wp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},he,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new zi(r,n),s=new GO(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=qO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=rF(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=dF(r);return function(t){t.sort((e,n)=>e.value.outlet===he?-1:n.value.outlet===he?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return oF(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!sF(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?kO(r).parameters:{};s=new Wp(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pF(e),wr(e),e.component,e,hF(n),fF(n)+r.length,gF(e))}else{const f=Kp(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new Wp(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pF(e),wr(e),e.component,e,hF(n),fF(n)+o.length,gF(e))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=Qp(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new zi(s,f)]}if(0===u.length&&0===l.length)return[new zi(s,[])];const d=wr(e)===i,h=this.processSegment(u,c,l,d?he:i);return null===h?null:[new zi(s,h)]}}function uZ(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function dF(t){const e=[],n=new Set;for(const r of t){if(!uZ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=dF(r.children);e.push(new zi(r.value,i))}return e.filter(r=>!n.has(r))}function hF(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fF(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function pF(t){return t.data||{}}function gF(t){return t.resolve||{}}function Sw(t){return Rs(e=>{const n=t(e);return n?hn(n).pipe(We(()=>e)):ee(e)})}class mZ extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Aw=new pe("ROUTES");class mF{constructor(e,n,r,i){this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(We(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new Cw(NO(o.injector.get(Aw,void 0,$.Self|$.Optional)).map(Tw),o)}),xo(s=>{throw n._loader$=void 0,s}));return n._loader$=new ix(i,()=>new ki).pipe(L_()),n._loader$}loadModuleFactory(e){return"string"==typeof e?hn(this.loader.load(e)):mi(e()).pipe(Bt(n=>n instanceof Xk?ee(n):hn(this.compiler.compileModuleAsync(n))))}}class _Z{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Mu,this.attachRef=null}}class Mu{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new _Z,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}class vZ{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function EZ(t){throw t}function wZ(t,e,n){return e.parse("/")}function _F(t,e){return ee(null)}const IZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mn=(()=>{class t{constructor(n,r,i,s,o,a,u,c){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ki,this.errorHandler=EZ,this.malformedUriErrorHandler=wZ,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_F,afterPreactivation:_F},this.urlHandlingStrategy=new vZ,this.routeReuseStrategy=new mZ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(pi),this.console=o.get(cp);const h=o.get(Ge);this.isNgZoneEnabled=h instanceof Ge&&Ge.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Ro(new me([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mF(a,u,f=>this.triggerEvent(new DO(f)),f=>this.triggerEvent(new SO(f))),this.routerState=WO(this.currentUrlTree,this.rootComponentType),this.transitions=new Qr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Ru(i=>0!==i.id),We(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Rs(i=>{let s=!1,o=!1;return ee(i).pipe(Pn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Rs(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return eg(a.source)&&(this.browserUrlTree=a.extractedUrl),ee(a).pipe(Rs(d=>{const h=this.transitions.getValue();return r.next(new hw(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?xu:Promise.resolve(d)}),function(t,e,n,r){return Rs(i=>function(t,e,n,r,i){return new jX(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(We(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Pn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(t,e,n,r,i){return Bt(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new sZ(t,e,n,r,i,s).recognize();return null===o?lF(new rZ):ee(o)}catch(o){return lF(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(We(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Pn(d=>{"eager"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(d.urlAfterRedirects,d),this.browserUrlTree=d.urlAfterRedirects);const h=new LJ(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=a,w=new hw(h,this.serializeUrl(f),p,m);r.next(w);const y=WO(f,this.rootComponentType).snapshot;return ee(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),xu}),Sw(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Pn(a=>{const u=new VJ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),We(a=>Object.assign(Object.assign({},a),{guards:WX(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(t,e){return Bt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ee(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return hn(t).pipe(Bt(i=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const u=Zp(a,e,i);let c;if(function(t){return t&&ks(t.canDeactivate)}(u))c=mi(u.canDeactivate(t,e,n,r));else{if(!ks(u))throw new Error("Invalid CanDeactivate guard");c=mi(u(t,e,n,r))}return c.pipe(Nu())})).pipe(od()):ee(!0)}(i.component,i.route,n,e,r)),Nu(i=>!0!==i,!0))}(o,r,i,t).pipe(Bt(a=>a&&function(t){return"boolean"==typeof t}(a)?function(t,e,n,r){return hn(e).pipe(Zl(i=>cw(function(t,e){return null!==t&&e&&e(new $J(t)),ee(!0)}(i.route.parent,r),function(t,e){return null!==t&&e&&e(new WJ(t)),ee(!0)}(i.route,r),function(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>EO(()=>ee(o.guards.map(u=>{const c=Zp(u,o.node,n);let l;if(function(t){return t&&ks(t.canActivateChild)}(c))l=mi(c.canActivateChild(r,t));else{if(!ks(c))throw new Error("Invalid CanActivateChild guard");l=mi(c(r,t))}return l.pipe(Nu())})).pipe(od())));return ee(s).pipe(od())}(t,i.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?ee(r.map(s=>EO(()=>{const o=Zp(s,e,n);let a;if(function(t){return t&&ks(t.canActivate)}(o))a=mi(o.canActivate(e,t));else{if(!ks(o))throw new Error("Invalid CanActivate guard");a=mi(o(e,t))}return a.pipe(Nu())}))).pipe(od()):ee(!0)}(t,i.route,n))),Nu(i=>!0!==i,!0))}(r,s,t,e):ee(a)),We(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Pn(a=>{if(ko(a.guardsResult)){const c=fw(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new UJ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Ru(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Sw(a=>{if(a.guards.canActivateChecks.length)return ee(a).pipe(Pn(u=>{const c=new BJ(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Rs(u=>{let c=!1;return ee(u).pipe(function(t,e){return Bt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=0;return hn(i).pipe(Zl(o=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return ee({});const s={};return hn(i).pipe(Bt(o=>function(t,e,n,r){const i=Zp(t,e,r);return mi(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(Pn(a=>{s[o]=a}))),dw(1),Bt(()=>Object.keys(s).length===i.length?ee(s):xu))}(t._resolve,t,e,r).pipe(We(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),qO(t,n).resolve),null)))}(o.route,r,t,e)),Pn(()=>s++),dw(1),Bt(o=>s===i.length?ee(n):xu))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Pn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Pn(u=>{const c=new jJ(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),Sw(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),We(a=>{const u=function(t,e,n){const r=qp(t,e._root,n?n._root:void 0);return new HO(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),Pn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>We(r=>(new TX(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Pn({next(){s=!0},complete(){s=!0}}),function(t){return e=>e.lift(new MJ(t))}(()=>{var a;if(!s&&!o){const u=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,u)):this.cancelNavigationTransition(i,u)}(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),xo(a=>{if(o=!0,function(t){return t&&t[xO]}(a)){const u=ko(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new TO(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||eg(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new FJ(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return xu}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:s,urlTree:o}=r,a={replaceUrl:!0};if(s){const u=Object.assign({},s);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(a.state=u)}this.scheduleNavigation(o,i,s,a)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(n){var r;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(r=n.state)||void 0===r?void 0:r.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,r){if(!n)return!0;const i=r.urlTree.toString()===n.urlTree.toString();return r.transitionId!==n.transitionId||!i||!("hashchange"===r.source&&"popstate"===n.source||"popstate"===r.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){nF(n),this.config=n.map(Tw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,i){if(0===n.length)return ww(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new YO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return $t(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new YO(n,e,r)}(n);if(s.toRoot())return ww(e.root,new me([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Iw(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new Iw(s,s===e.root,0)}const r=Gp(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Iw(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?zp(o.segmentGroup,o.index,s.commands):JO(o.segmentGroup,o.index,s.commands);return ww(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ko(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},IZ):!1===r?Object.assign({},bZ):r,ko(n))return MO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return MO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new ed(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);const c=this.getTransition(),l=eg(r)&&c&&!eg(c.source),f=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===n.toString();if(l&&f)return Promise.resolve(!0);let p,m,g;o?(p=o.resolve,m=o.reject,g=o.promise):g=new Promise((D,M)=>{p=D,m=M});const w=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),y=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):y=0,this.setTransition({id:w,targetPageId:y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:p,reject:m,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(D=>Promise.reject(D))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new TO(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)(P(Ef),P(pw),P(Mu),P(Ip),P(Ie),P(dp),P(To),P(void 0))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();function eg(t){return"imperative"!==t}let Nw=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new yr,this.deactivateEvents=new yr,this.name=s||he,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new SZ(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(j(Mu),j(jr),j(Io),function(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(Fx(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Et(),t)}("name"),j(Bv))},t.\u0275dir=en({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class SZ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Pu?this.route:e===Mu?this.childContexts:this.parent.get(e,n)}}class yF{}class vF{preload(e,n){return ee(null)}}let EF=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=new mF(r,i,c=>n.triggerEvent(new DO(c)),c=>n.triggerEvent(new SO(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ru(n=>n instanceof ed),Zl(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(pi);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return hn(i).pipe(qc(),We(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ee(r._loadedConfig):this.loader.load(n.injector,r)).pipe(Bt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(P(Mn),P(dp),P(To),P(Ie),P(yF))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})(),kw=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof hw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ed&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof AO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new AO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(P(Mn),P(sO),P(void 0))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();const Po=new pe("ROUTER_CONFIGURATION"),wF=new pe("ROUTER_FORROOT_GUARD"),xZ=[Ip,{provide:pw,useClass:VO},{provide:Mn,useFactory:function(t,e,n,r,i,s,o,a={},u,c){const l=new Mn(null,t,e,n,r,i,s,NO(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(d=>{var h,f;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(f=console.groupEnd)||void 0===f||f.call(console)}),l},deps:[pw,Mu,Ip,Ie,dp,To,Aw,Po,[class{},new Pe],[class{},new Pe]]},Mu,{provide:Pu,useFactory:function(t){return t.routerState.root},deps:[Mn]},{provide:dp,useClass:y5},EF,vF,class{preload(e,n){return n().pipe(xo(()=>ee(null)))}},{provide:Po,useValue:{enableTracing:!1}}];function RZ(){return new IE("Router",Mn)}let IF=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[xZ,bF(n),{provide:wF,useFactory:PZ,deps:[[Mn,new Pe,new Is]]},{provide:Po,useValue:r||{}},{provide:Au,useFactory:kZ,deps:[Ao,[new qa(UE),new Pe],Po]},{provide:kw,useFactory:NZ,deps:[Mn,sO,Po]},{provide:yF,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:vF},{provide:IE,multi:!0,useFactory:RZ},[Pw,{provide:jl,multi:!0,useFactory:LZ,deps:[Pw]},{provide:CF,useFactory:VZ,deps:[Pw]},{provide:eM,multi:!0,useExisting:CF}]]}}static forChild(n){return{ngModule:t,providers:[bF(n)]}}}return t.\u0275fac=function(n){return new(n||t)(P(wF,8),P(Mn,8))},t.\u0275mod=Nr({type:t}),t.\u0275inj=Gn({}),t})();function NZ(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new kw(t,e,n)}function kZ(t,e,n={}){return n.useHash?new VQ(t,e):new WM(t,e)}function PZ(t){return"guarded"}function bF(t){return[{provide:kq,multi:!0,useValue:t},{provide:Aw,multi:!0,useValue:t}]}let Pw=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ki}appInitializer(){return this.injector.get(OQ,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Mn),o=this.injector.get(Po);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ee(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Po),i=this.injector.get(EF),s=this.injector.get(kw),o=this.injector.get(Mn),a=this.injector.get(Tu);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(P(Ie))},t.\u0275prov=ae({token:t,factory:t.\u0275fac}),t})();function LZ(t){return t.appInitializer.bind(t)}function VZ(t){return t.bootstrapListener.bind(t)}const CF=new pe("Router Initializer");let BZ=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Fi({type:t,selectors:[["app-sidebar"]],decls:49,vars:0,consts:[["data-color","white","data-active-color","danger",1,"sidebar"],[1,"logo"],["href","#",1,"simple-text","logo-mini"],[1,"logo-image-small"],["src","../assets/img/logo-small.png"],["href","#",1,"simple-text","logo-normal"],[1,"sidebar-wrapper"],[1,"nav"],[1,"active"],["href","./dashboard.html"],[1,"nc-icon","nc-bank"],["href","./icons.html"],[1,"nc-icon","nc-diamond"],["href","./map.html"],[1,"nc-icon","nc-pin-3"],["href","./notifications.html"],[1,"nc-icon","nc-bell-55"],["href","./user.html"],[1,"nc-icon","nc-single-02"],["href","./tables.html"],[1,"nc-icon","nc-tile-56"],["href","./typography.html"],[1,"nc-icon","nc-caps-small"],[1,"active-pro"],["href","./upgrade.html"],[1,"nc-icon","nc-spaceship"]],template:function(n,r){1&n&&(v(0,"div",0),v(1,"div",1),v(2,"a",2),v(3,"div",3),L(4,"img",4),E(),E(),v(5,"a",5),G(6," Smart Health Card "),E(),E(),v(7,"div",6),v(8,"ul",7),v(9,"li",8),v(10,"a",9),L(11,"i",10),v(12,"p"),G(13,"Dashboard"),E(),E(),E(),v(14,"li"),v(15,"a",11),L(16,"i",12),v(17,"p"),G(18,"Icons"),E(),E(),E(),v(19,"li"),v(20,"a",13),L(21,"i",14),v(22,"p"),G(23,"Maps"),E(),E(),E(),v(24,"li"),v(25,"a",15),L(26,"i",16),v(27,"p"),G(28,"Notifications"),E(),E(),E(),v(29,"li"),v(30,"a",17),L(31,"i",18),v(32,"p"),G(33,"User Profile"),E(),E(),E(),v(34,"li"),v(35,"a",19),L(36,"i",20),v(37,"p"),G(38,"Table List"),E(),E(),E(),v(39,"li"),v(40,"a",21),L(41,"i",22),v(42,"p"),G(43,"Typography"),E(),E(),E(),v(44,"li",23),v(45,"a",24),L(46,"i",25),v(47,"p"),G(48,"Upgrade to PRO"),E(),E(),E(),E(),E(),E())},styles:[""]}),t})(),jZ=(()=>{class t{constructor(){this.title=""}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Fi({type:t,selectors:[["app-navbar"]],inputs:{title:"title"},decls:28,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-absolute","fixed-top","navbar-transparent"],[1,"container-fluid"],[1,"navbar-wrapper"],[1,"navbar-toggle"],["type","button",1,"navbar-toggler"],[1,"navbar-toggler-bar","bar1"],[1,"navbar-toggler-bar","bar2"],[1,"navbar-toggler-bar","bar3"],["href","javascript:;",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navigation","aria-controls","navigation-index","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-bar","navbar-kebab"],["id","navigation",1,"collapse","navbar-collapse","justify-content-end"],[1,"input-group","no-border"],["type","text","value","","placeholder","Search...",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],[1,"nc-icon","nc-zoom-split"],[1,"navbar-nav"],[1,"nav-item"],["href","javascript:;",1,"nav-link","btn-rotate"],[1,"nc-icon","nc-settings-gear-65"],[1,"d-lg-none","d-md-block"]],template:function(n,r){1&n&&(v(0,"nav",0),v(1,"div",1),v(2,"div",2),v(3,"div",3),v(4,"button",4),L(5,"span",5),L(6,"span",6),L(7,"span",7),E(),E(),v(8,"a",8),G(9),E(),E(),v(10,"button",9),L(11,"span",10),L(12,"span",10),L(13,"span",10),E(),v(14,"div",11),v(15,"form"),v(16,"div",12),L(17,"input",13),v(18,"div",14),v(19,"div",15),L(20,"i",16),E(),E(),E(),E(),v(21,"ul",17),v(22,"li",18),v(23,"a",19),L(24,"i",20),v(25,"p"),v(26,"span",21),G(27,"Account"),E(),E(),E(),E(),E(),E(),E(),E()),2&n&&(function(t){ZR(Ee(),C(),mn()+t,af())}(9),Sv(r.title))},styles:[""]}),t})(),$Z=(()=>{class t{constructor(){this.year=(new Date).getFullYear()}ngOnInit(){this.year=(new Date).getFullYear(),console.log(this.year)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Fi({type:t,selectors:[["app-footer"]],decls:11,vars:0,consts:[[1,"footer","footer-black","footer-white"],[1,"container-fluid"],[1,"row"],[1,"footer-nav"],["href","#","target","_blank"],[1,"credits","ml-auto"],[1,"copyright"]],template:function(n,r){1&n&&(v(0,"footer",0),v(1,"div",1),v(2,"div",2),v(3,"nav",3),v(4,"ul"),v(5,"li"),v(6,"a",4),G(7,"Smart Health Card"),E(),E(),E(),E(),v(8,"div",5),v(9,"span",6),G(10," \xa9 "),E(),E(),E(),E(),E())},styles:[""]}),t})();const HZ=[{path:"login",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Fi({type:t,selectors:[["app-login"]],decls:22,vars:0,consts:[[1,"sidenav"],[1,"login-main-text"],[1,"main"],[1,"col-md-6","col-sm-12"],[1,"login-form"],[1,"form-group"],["type","text","placeholder","User Name",1,"form-control"],["type","password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-black"]],template:function(n,r){1&n&&(v(0,"div",0),v(1,"div",1),v(2,"h2"),G(3,"Smart"),L(4,"br"),G(5," Health Card"),E(),v(6,"p"),G(7,"Login here to access dashboard."),E(),E(),E(),v(8,"div",2),v(9,"div",3),v(10,"div",4),v(11,"form"),v(12,"div",5),v(13,"label"),G(14,"User Name"),E(),L(15,"input",6),E(),v(16,"div",5),v(17,"label"),G(18,"Password"),E(),L(19,"input",7),E(),v(20,"button",8),G(21,"Login"),E(),E(),E(),E(),E())},styles:[".main-head[_ngcontent-%COMP%]{height:150px;background:#FFF}.sidenav[_ngcontent-%COMP%]{height:100%;background-color:#000;overflow-x:hidden;padding-top:20px}.main[_ngcontent-%COMP%]{padding:0 10px}@media screen and (max-height: 450px){.sidenav[_ngcontent-%COMP%]{padding-top:15px}}@media screen and (max-width: 450px){.login-form[_ngcontent-%COMP%]{margin-top:10%}.register-form[_ngcontent-%COMP%]{margin-top:10%}}@media screen and (min-width: 768px){.main[_ngcontent-%COMP%]{margin-left:40%}.sidenav[_ngcontent-%COMP%]{width:40%;position:fixed;z-index:1;top:0;left:0}.login-form[_ngcontent-%COMP%]{margin-top:50%}.register-form[_ngcontent-%COMP%]{margin-top:20%}}.login-main-text[_ngcontent-%COMP%]{margin-top:20%;padding:60px;color:#fff}.login-main-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:300}.btn-black[_ngcontent-%COMP%]{background-color:#000!important;color:#fff}"]}),t})()},{path:"dashboard",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Fi({type:t,selectors:[["app-dashboard"]],decls:141,vars:0,consts:[[1,"wrapper"],[1,"main-panel"],["title","Dashboard"],[1,"content"],[1,"row"],[1,"col-lg-3","col-md-6","col-sm-6"],[1,"card","card-stats"],[1,"card-body"],[1,"col-5","col-md-4"],[1,"icon-big","text-center","icon-warning"],[1,"nc-icon","nc-globe","text-warning"],[1,"col-7","col-md-8"],[1,"numbers"],[1,"card-category"],[1,"card-title"],[1,"card-footer"],[1,"stats"],[1,"fa","fa-refresh"],[1,"nc-icon","nc-money-coins","text-success"],[1,"fa","fa-calendar-o"],[1,"nc-icon","nc-vector","text-danger"],[1,"fa","fa-clock-o"],[1,"nc-icon","nc-favourite-28","text-primary"],[1,"col-md-12"],[1,"card"],[1,"card-header"],["id","chartHours","width","400","height","100"],[1,"fa","fa-history"],[1,"col-md-4"],["id","chartEmail"],[1,"legend"],[1,"fa","fa-circle","text-primary"],[1,"fa","fa-circle","text-warning"],[1,"fa","fa-circle","text-danger"],[1,"fa","fa-circle","text-gray"],[1,"fa","fa-calendar"],[1,"col-md-8"],[1,"card","card-chart"],["id","speedChart","width","400","height","100"],[1,"chart-legend"],[1,"fa","fa-circle","text-info"],[1,"card-stats"],[1,"fa","fa-check"]],template:function(n,r){1&n&&(v(0,"div",0),L(1,"app-sidebar"),v(2,"div",1),L(3,"app-navbar",2),v(4,"div",3),v(5,"div",4),v(6,"div",5),v(7,"div",6),v(8,"div",7),v(9,"div",4),v(10,"div",8),v(11,"div",9),L(12,"i",10),E(),E(),v(13,"div",11),v(14,"div",12),v(15,"p",13),G(16,"Capacity"),E(),v(17,"p",14),G(18,"150GB"),E(),L(19,"p"),E(),E(),E(),E(),v(20,"div",15),L(21,"hr"),v(22,"div",16),L(23,"i",17),G(24," Update Now "),E(),E(),E(),E(),v(25,"div",5),v(26,"div",6),v(27,"div",7),v(28,"div",4),v(29,"div",8),v(30,"div",9),L(31,"i",18),E(),E(),v(32,"div",11),v(33,"div",12),v(34,"p",13),G(35,"Revenue"),E(),v(36,"p",14),G(37,"$ 1,345"),E(),L(38,"p"),E(),E(),E(),E(),v(39,"div",15),L(40,"hr"),v(41,"div",16),L(42,"i",19),G(43," Last day "),E(),E(),E(),E(),v(44,"div",5),v(45,"div",6),v(46,"div",7),v(47,"div",4),v(48,"div",8),v(49,"div",9),L(50,"i",20),E(),E(),v(51,"div",11),v(52,"div",12),v(53,"p",13),G(54,"Errors"),E(),v(55,"p",14),G(56,"23"),E(),L(57,"p"),E(),E(),E(),E(),v(58,"div",15),L(59,"hr"),v(60,"div",16),L(61,"i",21),G(62," In the last hour "),E(),E(),E(),E(),v(63,"div",5),v(64,"div",6),v(65,"div",7),v(66,"div",4),v(67,"div",8),v(68,"div",9),L(69,"i",22),E(),E(),v(70,"div",11),v(71,"div",12),v(72,"p",13),G(73,"Followers"),E(),v(74,"p",14),G(75,"+45K"),E(),L(76,"p"),E(),E(),E(),E(),v(77,"div",15),L(78,"hr"),v(79,"div",16),L(80,"i",17),G(81," Update now "),E(),E(),E(),E(),E(),v(82,"div",4),v(83,"div",23),v(84,"div",24),v(85,"div",25),v(86,"h5",14),G(87,"Users Behavior"),E(),v(88,"p",13),G(89,"24 Hours performance"),E(),E(),v(90,"div",7),L(91,"canvas",26),E(),v(92,"div",15),L(93,"hr"),v(94,"div",16),L(95,"i",27),G(96," Updated 3 minutes ago "),E(),E(),E(),E(),E(),v(97,"div",4),v(98,"div",28),v(99,"div",24),v(100,"div",25),v(101,"h5",14),G(102,"Email Statistics"),E(),v(103,"p",13),G(104,"Last Campaign Performance"),E(),E(),v(105,"div",7),L(106,"canvas",29),E(),v(107,"div",15),v(108,"div",30),L(109,"i",31),G(110," Opened "),L(111,"i",32),G(112," Read "),L(113,"i",33),G(114," Deleted "),L(115,"i",34),G(116," Unopened "),E(),L(117,"hr"),v(118,"div",16),L(119,"i",35),G(120," Number of emails sent "),E(),E(),E(),E(),v(121,"div",36),v(122,"div",37),v(123,"div",25),v(124,"h5",14),G(125,"NASDAQ: AAPL"),E(),v(126,"p",13),G(127,"Line Chart with Points"),E(),E(),v(128,"div",7),L(129,"canvas",38),E(),v(130,"div",15),v(131,"div",39),L(132,"i",40),G(133," Tesla Model S "),L(134,"i",32),G(135," BMW 5 Series "),E(),L(136,"hr"),v(137,"div",41),L(138,"i",42),G(139," Data information certified "),E(),E(),E(),E(),E(),E(),L(140,"app-footer"),E(),E())},directives:[BZ,jZ,$Z],styles:[""]}),t})()}];let WZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nr({type:t}),t.\u0275inj=Gn({imports:[[IF.forRoot(HZ)],IF]}),t})(),qZ=(()=>{class t{constructor(){this.title="smart-health-card"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Fi({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&L(0,"router-outlet")},directives:[Nw],styles:[""]}),t})();function DF(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ld(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dd(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function AF(t,e,n){if(n||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}const x=function(t,e){if(!t)throw Fu(e)},Fu=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},xF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},ng={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Fw=function(t){try{return ng.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YZ(t){return kF(void 0,t)}function kF(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!JZ(n)||(t[n]=kF(t[n],e[n]));return t}function JZ(t){return"__proto__"!==t}class hd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Rt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Lw(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function Vw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function PF(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Lu(){return"object"==typeof indexedDB}function rg(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Uw(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Qi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_i.prototype.create)}}class _i{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(t,e){return t.replace(nee,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Qi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const nee=/\{\$([^}]+)}/g;function fd(t){return JSON.parse(t)}function Ht(t){return JSON.stringify(t)}const ig=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=fd(Fw(s[0])||""),n=fd(Fw(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}};function Yi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Bw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sg(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function og(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(MF(s)&&MF(o)){if(!og(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function MF(t){return null!==t&&"object"==typeof t}function pd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class see{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,l,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),l=1518500249):(c=s^o^a,l=1859775393):d<60?(c=s&o|a&(s|o),l=2400959708):(c=s^o^a,l=3395469782);const h=(i<<5|i>>>27)+c+u+l+r[d]&4294967295;u=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class aee{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=jw),void 0===i.error&&(i.error=jw),void 0===i.complete&&(i.complete=jw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jw(){}const ug=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function $w(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Mo(t){return t&&t._delegate?t._delegate:t}var an=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}(),Oo="[DEFAULT]",gee=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new hd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(s){}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch(d){}try{for(var i=ld(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=dd(s.value,2),u=o[1],c=this.normalizeInstanceIdentifier(o[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(d){}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){void 0===e&&(e=Oo),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return function(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function(){var e;return function(t,e){var r,i,s,o,n={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=2&c[0]?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!(s=(s=n.trys).length>0&&s[s.length-1])&&(6===c[0]||2===c[0])){n=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(6===c[0]&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(AF(AF([],dd(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),dd(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(e){return void 0===e&&(e=Oo),this.instances.has(e)},t.prototype.getOptions=function(e){return void 0===e&&(e=Oo),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,r;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=ld(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=dd(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return a},t.prototype.onInit=function(e,n){var r,i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);var o=this.instances.get(i);return o&&e(o,i),function(){s.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var o=ld(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(e,n)}catch(c){}}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mee(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(o){}return s||null},t.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=Oo),this.component?this.component.multipleInstances?e:Oo:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();function mee(t){return t===Oo?void 0:t}var yee=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new gee(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();const Hw=[];var be=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(be||(be={})),be))();const OF={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},vee=be.INFO,Eee={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},wee=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Eee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Fo{constructor(e){this.name=e,this._logLevel=vee,this._logHandler=wee,this._userLogHandler=null,Hw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?OF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}class Iee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Ww="@firebase/app",qw=new Fo("@firebase/app"),Gw="[DEFAULT]",Qee={[Ww]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lo=new Map,cg=new Map;function Yee(t,e){try{t.container.addComponent(e)}catch(n){qw.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wn(t){const e=t.name;if(cg.has(e))return qw.debug(`There were multiple attempts to register component ${e}.`),!1;cg.set(e,t);for(const n of Lo.values())Yee(n,t);return!0}function Vo(t,e){return t.container.getProvider(e)}const gd=new _i("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Xee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gd.create("app-deleted",{appName:this._name})}}const Uo="9.1.3";function Zee(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:Gw,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw gd.create("bad-app-name",{appName:String(r)});const i=Lo.get(r);if(i){if(og(t,i.options)&&og(n,i.config))return i;throw gd.create("duplicate-app",{appName:r})}const s=new yee(r);for(const a of cg.values())s.addComponent(a);const o=new Xee(t,n,s);return Lo.set(r,o),o}function lg(t=Gw){const e=Lo.get(t);if(!e)throw gd.create("no-app",{appName:t});return e}function LF(){return Array.from(Lo.values())}function ze(t,e,n){var r;let i=null!==(r=Qee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void qw.warn(a.join(" "))}wn(new an(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function VF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){VF(s,r,i,o,a,"next",u)}function a(u){VF(s,r,i,o,a,"throw",u)}o(void 0)})}}wn(new an("platform-logger",e=>new Iee(e),"PRIVATE")),ze(Ww,"0.7.4",""),ze(Ww,"0.7.4","esm2017"),ze("fire-js",""),ze("firebase","9.1.3","app");var Uu=xr(676);const UF="@firebase/installations",jF="w:0.5.2",$F="FIS_v2",Ji=new _i("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function HF(t){return t instanceof Qi&&t.code.includes("request-failed")}function Qw({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function WF(t){return{token:t.token,requestStatus:2,expiresIn:ute(t.expiresIn),creationTime:Date.now()}}function Yw(t,e){return Jw.apply(this,arguments)}function Jw(){return(Jw=_(function*(t,e){const r=(yield e.json()).error;return Ji.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function qF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function GF(t,{refreshToken:e}){const n=qF(t);return n.append("Authorization",function(t){return`${$F} ${t}`}(e)),n}function Xw(t){return Zw.apply(this,arguments)}function Zw(){return(Zw=_(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function ute(t){return Number(t.replace("s","000"))}function lte(t,e){return eI.apply(this,arguments)}function eI(){return(eI=_(function*(t,{fid:e}){const n=Qw(t),s={method:"POST",headers:qF(t),body:JSON.stringify({fid:e,authVersion:$F,appId:t.appId,sdkVersion:jF})},o=yield Xw(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:WF(a.authToken)}}throw yield Yw("Create Installation",o)})).apply(this,arguments)}function zF(t){return new Promise(e=>{setTimeout(e,t)})}const hte=/^[cdef][\w-]{21}$/;function fte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function(t){return function(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return hte.test(n)?n:""}catch(t){return""}}function Bu(t){return`${t.appName}!${t.appId}`}const ju=new Map;function KF(t,e){const n=Bu(t);QF(n,e),function(t,e){const n=(!Bo&&"BroadcastChannel"in self&&(Bo=new BroadcastChannel("[Firebase] FID Change"),Bo.onmessage=t=>{QF(t.data.key,t.data.fid)}),Bo);n&&n.postMessage({key:t,fid:e}),0===ju.size&&Bo&&(Bo.close(),Bo=null)}(n,e)}function QF(t,e){const n=ju.get(t);if(n)for(const r of n)r(e)}let Bo=null;const jo="firebase-installations-store";let nI=null;function rI(){return nI||(nI=(0,Uu.openDb)("firebase-installations-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(jo)}})),nI}function dg(t,e){return iI.apply(this,arguments)}function iI(){return(iI=_(function*(t,e){const n=Bu(t),i=(yield rI()).transaction(jo,"readwrite"),s=i.objectStore(jo),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&KF(t,e.fid),e})).apply(this,arguments)}function sI(t){return oI.apply(this,arguments)}function oI(){return(oI=_(function*(t){const e=Bu(t),r=(yield rI()).transaction(jo,"readwrite");yield r.objectStore(jo).delete(e),yield r.complete})).apply(this,arguments)}function md(t,e){return aI.apply(this,arguments)}function aI(){return(aI=_(function*(t,e){const n=Bu(t),i=(yield rI()).transaction(jo,"readwrite"),s=i.objectStore(jo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&KF(t,a.fid),a})).apply(this,arguments)}function uI(t){return cI.apply(this,arguments)}function cI(){return(cI=_(function*(t){let e;const n=yield md(t,r=>{const i=Ete(r),s=wte(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function Ete(t){return ZF(t||{fid:fte(),registrationStatus:0})}function wte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ji.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return lI.apply(this,arguments)}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:bte(t)}:{installationEntry:e}}function lI(){return(lI=_(function*(t,e){try{return dg(t,yield lte(t,e))}catch(n){throw HF(n)&&409===n.customData.serverCode?yield sI(t):yield dg(t,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function bte(t){return dI.apply(this,arguments)}function dI(){return(dI=_(function*(t){let e=yield XF(t);for(;1===e.registrationStatus;)yield zF(100),e=yield XF(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield uI(t);return r||n}return e})).apply(this,arguments)}function XF(t){return md(t,e=>{if(!e)throw Ji.create("installation-not-found");return ZF(e)})}function ZF(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Tte(t,e){return hI.apply(this,arguments)}function hI(){return(hI=_(function*({appConfig:t,platformLoggerProvider:e},n){const r=Dte(t,n),i=GF(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:jF}})},u=yield Xw(()=>fetch(r,a));if(u.ok)return WF(yield u.json());throw yield Yw("Generate Auth Token",u)})).apply(this,arguments)}function Dte(t,{fid:e}){return`${Qw(t)}/${e}/authTokens:generate`}function fI(t){return pI.apply(this,arguments)}function pI(){return(pI=_(function*(t,e=!1){let n;const r=yield md(t.appConfig,s=>{if(!tL(s))throw Ji.create("not-registered");const o=s.authToken;if(!e&&xte(o))return s;if(1===o.requestStatus)return n=Ste(t,e),s;{if(!navigator.onLine)throw Ji.create("app-offline");const a=Nte(s);return n=Ate(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function Ste(t,e){return gI.apply(this,arguments)}function gI(){return(gI=_(function*(t,e){let n=yield eL(t.appConfig);for(;1===n.authToken.requestStatus;)yield zF(100),n=yield eL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?fI(t,e):r})).apply(this,arguments)}function eL(t){return md(t,e=>{if(!tL(e))throw Ji.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Ate(t,e){return mI.apply(this,arguments)}function mI(){return(mI=_(function*(t,e){try{const n=yield Tte(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield dg(t.appConfig,r),n}catch(n){if(!HF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield dg(t.appConfig,r)}else yield sI(t.appConfig);throw n}})).apply(this,arguments)}function tL(t){return void 0!==t&&2===t.registrationStatus}function xte(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function Nte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function _I(){return(_I=_(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield uI(e.appConfig);return r?r.catch(console.error):fI(e).catch(console.error),n.fid})).apply(this,arguments)}function yI(){return(yI=_(function*(t,e=!1){const n=t;return yield Ote(n.appConfig),(yield fI(n,e)).token})).apply(this,arguments)}function Ote(t){return vI.apply(this,arguments)}function vI(){return(vI=_(function*(t){const{registrationPromise:e}=yield uI(t);e&&(yield e)})).apply(this,arguments)}function II(t){return Ji.create("missing-app-config-values",{valueName:t})}const nL="installations";wn(new an(nL,t=>{const e=t.getProvider("app").getImmediate();return{app:e,appConfig:function(t){if(!t||!t.options)throw II("App Configuration");if(!t.name)throw II("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw II(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:Vo(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),wn(new an("installations-internal",t=>{const n=Vo(t.getProvider("app").getImmediate(),nL).getImmediate();return{getId:()=>function(t){return _I.apply(this,arguments)}(n),getToken:i=>function(t){return yI.apply(this,arguments)}(n,i)}},"PRIVATE")),ze(UF,"0.5.2"),ze(UF,"0.5.2","esm2017");const bI="@firebase/remote-config",On=new _i("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function ene(t=navigator){return t.languages&&t.languages[0]||t.language}class tne{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:ene()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,y)=>{e.signal.addEventListener(()=>{const D=new Error("The operation was aborted.");D.name="AbortError",y(D)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let y="fetch-client-network";throw"AbortError"===w.name&&(y="fetch-timeout"),On.create(y,{originalErrorMessage:w.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,g;if(200===h.status){let w;try{w=yield h.json()}catch(y){throw On.create("fetch-client-parse",{originalErrorMessage:y.message})}m=w.entries,g=w.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==f&&200!==f)throw On.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class ine{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(t){if(!(t instanceof Qi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+$w(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class ane{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fg(t,e){const n=t.target.error||void 0;return On.create(e,{originalErrorMessage:n&&n.message})}const $o="app_namespace_store";class dne{constructor(e,n,r,i=function(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(fg(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore($o,{keyPath:"compositeKey"})}}}catch(n){e(On.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([$o],"readonly").objectStore($o),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(fg(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(On.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([$o],"readwrite").objectStore($o),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(fg(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(On.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([$o],"readwrite").objectStore($o),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(fg(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(On.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class hne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function pne(){return AI.apply(this,arguments)}function AI(){return(AI=_(function*(){if(!Lu())return!1;try{return yield rg()}catch(t){return!1}})).apply(this,arguments)}wn(new an("remote-config",function(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw On.create("registration-window");if(!Lu())throw On.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw On.create("registration-project-id");if(!o)throw On.create("registration-api-key");if(!a)throw On.create("registration-app-id");const u=new dne(a,r.name,n=n||"firebase"),c=new hne(u),l=new Fo(bI);l.logLevel=be.ERROR;const d=new tne(i,Uo,n,s,o,a),h=new ine(d,u),f=new Zte(h,u,c,l),p=new ane(r,f,c,u,l);return function(t){const e=Mo(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ze(bI,"0.3.1"),ze(bI,"0.3.1","esm2017");const gne="/firebase-messaging-sw.js",mne="/firebase-cloud-messaging-push-scope",oL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",aL="google.c.a.c_id",yne="google.c.a.c_l",vne="google.c.a.ts",Ene="google.c.a.e";var $u=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}($u||($u={})),$u))();function Xi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const xI="fcm_token_details_db",uL="fcm_token_object_Store";function bne(t){return RI.apply(this,arguments)}function RI(){return(RI=_(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(xI))return null;let e=null;return(yield(0,Uu.openDb)(xI,5,function(){var r=_(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(uL))return;const o=i.transaction.objectStore(uL),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:Xi(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Xi(u.auth),p256dh:Xi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Xi(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Xi(u.auth),p256dh:Xi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Xi(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,Uu.deleteDb)(xI),yield(0,Uu.deleteDb)("fcm_vapid_details_db"),yield(0,Uu.deleteDb)("undefined"),Cne(e)?e:null})).apply(this,arguments)}function Cne(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ho="firebase-messaging-store";let NI=null;function kI(){return NI||(NI=(0,Uu.openDb)("firebase-messaging-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(Ho)}})),NI}function cL(t){return PI.apply(this,arguments)}function PI(){return(PI=_(function*(t){const e=LI(t),r=yield(yield kI()).transaction(Ho).objectStore(Ho).get(e);if(r)return r;{const i=yield bne(t.appConfig.senderId);if(i)return yield MI(t,i),i}})).apply(this,arguments)}function MI(t,e){return OI.apply(this,arguments)}function OI(){return(OI=_(function*(t,e){const n=LI(t),i=(yield kI()).transaction(Ho,"readwrite");return yield i.objectStore(Ho).put(e,n),yield i.complete,e})).apply(this,arguments)}function Sne(t){return FI.apply(this,arguments)}function FI(){return(FI=_(function*(t){const e=LI(t),r=(yield kI()).transaction(Ho,"readwrite");yield r.objectStore(Ho).delete(e),yield r.complete})).apply(this,arguments)}function LI({appConfig:t}){return t.appId}const Wt=new _i("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xne(t,e){return VI.apply(this,arguments)}function VI(){return(VI=_(function*(t,e){const n=yield $I(t),r=dL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(jI(t.appConfig),i)).json()}catch(o){throw Wt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Wt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Wt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Rne(t,e){return UI.apply(this,arguments)}function UI(){return(UI=_(function*(t,e){const n=yield $I(t),r=dL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${jI(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Wt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Wt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Wt.create("token-update-no-token");return s.token})).apply(this,arguments)}function lL(t,e){return BI.apply(this,arguments)}function BI(){return(BI=_(function*(t,e){const r={method:"DELETE",headers:yield $I(t)};try{const s=yield(yield fetch(`${jI(t.appConfig)}/${e}`,r)).json();if(s.error)throw Wt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Wt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function jI({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function $I(t){return HI.apply(this,arguments)}function HI(){return(HI=_(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function dL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==oL&&(i.web.applicationPubKey=r),i}function kne(t){return WI.apply(this,arguments)}function WI(){return(WI=_(function*(t){const e=yield Mne(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Xi(e.getKey("auth")),p256dh:Xi(e.getKey("p256dh"))},r=yield cL(t.firebaseDependencies);if(r){if(One(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?Pne(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield lL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return fL(t.firebaseDependencies,n)}return fL(t.firebaseDependencies,n)})).apply(this,arguments)}function hL(t){return qI.apply(this,arguments)}function qI(){return(qI=_(function*(t){const e=yield cL(t.firebaseDependencies);e&&(yield lL(t.firebaseDependencies,e.token),yield Sne(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function Pne(t,e){return GI.apply(this,arguments)}function GI(){return(GI=_(function*(t,e){try{const n=yield Rne(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield MI(t.firebaseDependencies,r),n}catch(n){throw yield hL(t),n}})).apply(this,arguments)}function fL(t,e){return zI.apply(this,arguments)}function zI(){return(zI=_(function*(t,e){const r={token:yield xne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield MI(t,r),r.token})).apply(this,arguments)}function Mne(t,e){return KI.apply(this,arguments)}function KI(){return(KI=_(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wne(e)})})).apply(this,arguments)}function One(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function pL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function Une(t){return"object"==typeof t&&!!t&&aL in t}function gL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function QI(t){return Wt.create("missing-app-config-values",{valueName:t})}gL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(t){if(!t||!t.options)throw QI("App Configuration Object");if(!t.name)throw QI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw QI(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function mL(t){return YI.apply(this,arguments)}function YI(){return(YI=_(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(gne,{scope:mne}),t.swRegistration.update().catch(()=>{})}catch(e){throw Wt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function $ne(t,e){return JI.apply(this,arguments)}function JI(){return(JI=_(function*(t,e){if(!e&&!t.swRegistration&&(yield mL(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Wt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Hne(t,e){return XI.apply(this,arguments)}function XI(){return(XI=_(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=oL)})).apply(this,arguments)}function ZI(){return(ZI=_(function*(t,e){if(!navigator)throw Wt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wt.create("permission-blocked");return yield Hne(t,null==e?void 0:e.vapidKey),yield $ne(t,null==e?void 0:e.serviceWorkerRegistration),kne(t)})).apply(this,arguments)}function Wne(t,e,n){return eb.apply(this,arguments)}function eb(){return(eb=_(function*(t,e,n){const r=qne(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[aL],message_name:n[yne],message_time:n[vne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qne(t){switch(t){case $u.NOTIFICATION_CLICKED:return"notification_open";case $u.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function tb(){return(tb=_(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===$u.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(pL(n)):t.onMessageHandler.next(pL(n)));const r=n.data;Une(r)&&"1"===r[Ene]&&(yield Wne(t,n.messageType,r))})).apply(this,arguments)}const yL="@firebase/messaging";function EL(){return nb.apply(this,arguments)}function nb(){return(nb=_(function*(){return"undefined"!=typeof window&&Lu()&&(yield rg())&&Uw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}wn(new an("messaging",t=>{const e=new jne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function(t,e){return tb.apply(this,arguments)}(e,n)),e},"PUBLIC")),wn(new an("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function(t,e){return ZI.apply(this,arguments)}(e,r)}},"PRIVATE")),ze(yL,"0.9.2"),ze(yL,"0.9.2","esm2017");const pg="analytics",Xne="firebase_id",tre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wL="https://www.googletagmanager.com/gtag/js",qt=new Fo("@firebase/analytics");function IL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function nre(t,e){const n=document.createElement("script");n.src=`${wL}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function ire(t,e,n,r,i,s){return sb.apply(this,arguments)}function sb(){return(sb=_(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield IL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){qt.error(a)}t("config",i,s)})).apply(this,arguments)}function sre(t,e,n,r,i){return ob.apply(this,arguments)}function ob(){return(ob=_(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield IL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){qt.error(s)}})).apply(this,arguments)}function ure(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(wL))return e;return null}const er=new _i("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),bL=new class{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function fre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function pre(t){return ab.apply(this,arguments)}function ab(){return(ab=_(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:fre(r)},s=tre.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw er.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function gre(t){return ub.apply(this,arguments)}function ub(){return(ub=_(function*(t,e=bL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw er.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw er.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new yre;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:6e4),CL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function CL(t,e,n){return cb.apply(this,arguments)}function cb(){return(cb=_(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=bL){const{appId:s,measurementId:o}=t;try{yield mre(r,e)}catch(a){if(o)return qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield pre(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!_re(a)){if(i.deleteThrottleMetadata(s),o)return qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?$w(n,i.intervalMillis,30):$w(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),qt.debug(`Calling attemptFetch again in ${u} millis`),CL(t,c,r,i)}})).apply(this,arguments)}function mre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(er.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _re(t){if(!(t instanceof Qi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class yre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function vre(){return lb.apply(this,arguments)}function lb(){return(lb=_(function*(){if(!Lu())return qt.warn(er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield rg()}catch(t){return qt.warn(er.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function db(){return(db=_(function*(t,e,n,r,i,s,o){var a;const u=gre(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&qt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>qt.error(f)),e.push(u);const c=vre().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);ure()||nre(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Xne]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class wre{constructor(e){this.app=e}_delete(){return delete Zi[this.app.options.appId],Promise.resolve()}}let Zi={},TL=[];const DL={};let AL,_d,gg="dataLayer",hb=!1;function bre(t,e,n){!function(){const t=[];if(Vw()&&t.push("This is a browser extension environment."),Uw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=er.create("invalid-analytics-context",{errorInfo:e});qt.warn(n.message)}}();const r=t.options.appId;if(!r)throw er.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw er.create("no-api-key");qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zi[r])throw er.create("already-exists",{id:r});if(!hb){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(gg);const{wrappedGtag:s,gtagCore:o}=function(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(t,e,n,r){function s(){return(s=_(function*(o,a,u){try{"event"===o?yield sre(t,e,n,a,u):"config"===o?yield ire(t,e,n,r,a,u):t("set",a)}catch(c){qt.error(c)}})).apply(this,arguments)}return function(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Zi,TL,DL,gg,"gtag");_d=s,AL=o,hb=!0}return Zi[r]=function(t,e,n,r,i,s,o){return db.apply(this,arguments)}(t,TL,DL,e,AL,gg,n),new wre(t)}function fb(){return(fb=_(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Rre(){return yb.apply(this,arguments)}function yb(){return(yb=_(function*(){if(Vw()||!Uw()||!Lu())return!1;try{return yield rg()}catch(t){return!1}})).apply(this,arguments)}const xL="@firebase/analytics";wn(new an(pg,(e,{options:n})=>bre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),wn(new an("analytics-internal",function(e){try{const n=e.getProvider(pg).getImmediate();return{logEvent:(r,i,s)=>function(t,e,n,r){t=Mo(t),function(t,e,n,r,i){return fb.apply(this,arguments)}(_d,Zi[t.app.options.appId],e,n,r).catch(i=>qt.error(i))}(n,r,i,s)}}catch(n){throw er.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),ze(xL,"0.7.2"),ze(xL,"0.7.2","esm2017");class Pre extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}}class vb extends Pre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return n;clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,n=this.scheduler,r=n.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null}}let NL=(()=>{class t{constructor(n,r=t.now){this.SchedulerAction=n,this.now=r}schedule(n,r=0,i){return new this.SchedulerAction(this,n).schedule(i,r)}}return t.now=()=>Date.now(),t})();class yi extends NL{constructor(e,n=NL.now){super(e,()=>yi.delegate&&yi.delegate!==this?yi.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,n=0,r){return yi.delegate&&yi.delegate!==this?yi.delegate.schedule(e,n,r):super.schedule(e,n,r)}flush(e){const{actions:n}=this;if(this.active)return void n.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this.active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Fre=new class extends yi{}(class extends vb{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),Lre=new yi(vb);let Vre=1;const Ure=Promise.resolve(),mg={};function kL(t){return t in mg&&(delete mg[t],!0)}const PL={setImmediate(t){const e=Vre++;return mg[e]=!0,Ure.then(()=>kL(e)&&t()),e},clearImmediate(t){kL(t)}},Eb=new class extends yi{flush(e){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let r,i=-1,s=n.length;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=n.shift()));if(this.active=!1,r){for(;++i<s&&(e=n.shift());)e.unsubscribe();throw r}}}(class extends vb{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return null!==r&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=PL.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,n,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,n,r);0===e.actions.length&&(PL.clearImmediate(n),e.scheduled=void 0)}});class _g extends se{constructor(e,n=0,r=Eb){super(),this.source=e,this.delayTime=n,this.scheduler=r,(!function(t){return!io(t)&&t-parseFloat(t)+1>=0}(n)||n<0)&&(this.delayTime=0),(!r||"function"!=typeof r.schedule)&&(this.scheduler=Eb)}static create(e,n=0,r=Eb){return new _g(e,n,r)}static dispatch(e){const{source:n,subscriber:r}=e;return this.add(n.subscribe(r))}_subscribe(e){return this.scheduler.schedule(_g.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function ML(t,e=0){return function(r){return r.lift(new Hre(t,e))}}class Hre{constructor(e,n){this.scheduler=e,this.delay=n}call(e,n){return new _g(n,this.delay,this.scheduler).subscribe(e)}}class Ir{constructor(e,n,r){this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,n,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}}accept(e,n,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,n,r)}toObservable(){switch(this.kind){case"N":return ee(this.value);case"E":return function(t,e){return new se(n=>n.error(t))}(this.error);case"C":return Vp()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new Ir("N",e):Ir.undefinedValueNotification}static createError(e){return new Ir("E",void 0,e)}static createComplete(){return Ir.completeNotification}}function OL(t,e=0){return function(r){return r.lift(new Gre(t,e))}}Ir.completeNotification=new Ir("C"),Ir.undefinedValueNotification=new Ir("N",void 0);class Gre{constructor(e,n=0){this.scheduler=e,this.delay=n}call(e,n){return n.subscribe(new wb(e,this.scheduler,this.delay))}}class wb extends ke{constructor(e,n,r=0){super(e),this.scheduler=n,this.delay=r}static dispatch(e){const{notification:n,destination:r}=e;n.observe(r),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(wb.dispatch,this.delay,new zre(e,this.destination)))}_next(e){this.scheduleMessage(Ir.createNext(e))}_error(e){this.scheduleMessage(Ir.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Ir.createComplete()),this.unsubscribe()}}class zre{constructor(e,n){this.notification=e,this.destination=n}}const yd=new Sl("7.1.1"),Ib="__angularfire_symbol__analyticsIsSupported",bb="__angularfire_symbol__remoteConfigIsSupported",Cb="__angularfire_symbol__messagingIsSupported";function yg(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Ib]||(globalThis[Ib]=Rre().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[Cb]||(globalThis[Cb]=EL().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[bb]||(globalThis[bb]=pne().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const vg=(t,e)=>{const n=e?[e]:LF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Hu(){}class UL{constructor(e,n=Fre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Kre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hu,{},Hu,Hu)),n.pipe(Pn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Eg=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new UL(Zone.current)),this.insideAngular=n.run(()=>new UL(Zone.current,Lre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(P(Ge))},t.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Wo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Qre(t){return Wo().ngZone.runOutsideAngular(()=>t())}function qo(t){return Wo().ngZone.run(()=>t())}function Yre(t){return Wo(),function(t){return function(n){return(n=n.lift(new Kre(t.ngZone))).pipe(ML(t.outsideAngular),OL(t.insideAngular))}}(Wo())(t)}const Xre=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),qo(()=>t.apply(n,arguments))}},wg=(t,e)=>function(){let n;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(n||(n=qo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hu,{},Hu,Hu)))),arguments[i]=Xre(arguments[i],n));const r=Qre(()=>t.apply(this,arguments));if(!e){if(r instanceof se){const i=Wo();return r.pipe(ML(i.outsideAngular),OL(i.insideAngular))}return qo(()=>r)}return r instanceof se?r.pipe(Yre):r instanceof Promise?qo(()=>new Promise((i,s)=>r.then(o=>qo(()=>i(o)),o=>qo(()=>s(o))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:qo(()=>r)};class Go{constructor(e){return e}}class Ig{constructor(){return LF()}}const Db=new pe("angularfire2._apps"),eie={provide:Go,useFactory:function(t){return t&&1===t.length?t[0]:new Go(lg())},deps:[[new Pe,Db]]},tie={provide:Ig,deps:[[new Pe,Db]]};function nie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Go(r)}}let rie=(()=>{class t{constructor(n){ze("angularfire",yd.full,"core"),ze("angularfire",yd.full,"app"),ze("angular",Uv.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(P(Hl))},t.\u0275mod=Nr({type:t}),t.\u0275inj=Gn({providers:[eie,tie]}),t})();function iie(t,...e){return{ngModule:rie,providers:[{provide:Db,useFactory:nie(t),multi:!0,deps:[Ge,Ie,Eg,...e]}]}}const sie=wg(Zee,!0),BL_firebase={projectId:"smart-health-card-8d366",appId:"1:1090272555330:web:d0a9b84c3eacdd3210d8db",storageBucket:"smart-health-card-8d366.appspot.com",apiKey:"AIzaSyBRI9ENF5FH7oioQFwZ1aeeibLkJZdjhEs",authDomain:"smart-health-card-8d366.firebaseapp.com",messagingSenderId:"1090272555330",measurementId:"G-CNSX71SF13"},jL=new Map,oie={activated:!1,tokenObservers:[]},aie={initialized:!1,enabled:!1};function In(t){return jL.get(t)||oie}function vi(t,e){jL.set(t,e)}function bg(){return aie}class lie{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new hd,yield function(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new hd,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const tr=new _i("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function qL(t){if(!In(t).activated)throw tr.create("use-before-activation",{appName:t.name})}function GL(t,e){return Sb.apply(this,arguments)}function Sb(){return(Sb=_(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw tr.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw tr.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw tr.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw tr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function gie(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const vd="firebase-app-check-store";let Cg=null;function KL(){return Cg||(Cg=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(tr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(vd,{keyPath:"compositeKey"})}}}catch(n){e(tr.create("storage-open",{originalErrorMessage:n.message}))}}),Cg)}function Ab(){return(Ab=_(function*(t,e){const r=(yield KL()).transaction(vd,"readwrite"),s=r.objectStore(vd).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(tr.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Tg=new Fo("@firebase/app-check");function XL(t,e){return Lu()?function(t,e){return function(t,e){return Ab.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Tg.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function ZL(){return bg().enabled}function eV(){return kb.apply(this,arguments)}function kb(){return(kb=_(function*(){const t=bg();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Tie={error:"UNKNOWN_ERROR"};function Die(t){return ng.encodeString(JSON.stringify(t),!1)}function Dg(t){return Pb.apply(this,arguments)}function Pb(){return(Pb=_(function*(t,e=!1){const n=t.app;qL(n);const r=In(n);let s,o,i=r.token;if(!i){const a=yield r.cachedTokenPromise;a&&Ed(a)&&(i=a,vi(n,Object.assign(Object.assign({},r),{token:i})),nV(n,{token:i.token}))}if(!e&&i&&Ed(i))return{token:i.token};if(ZL()){const a=yield GL(gie(n,yield eV()),t.platformLoggerProvider);return yield XL(n,a),vi(n,Object.assign(Object.assign({},r),{token:a})),{token:a.token}}try{i=yield r.provider.getToken()}catch(a){Tg.error(a),s=a}return i?(o={token:i.token},vi(n,Object.assign(Object.assign({},r),{token:i})),yield XL(n,i)):o=Aie(s),nV(n,o),o})).apply(this,arguments)}function Mb(t,e){const n=In(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),vi(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function nV(t,e){const n=In(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Ed(t){return t.expireTimeMillis-Date.now()>0}function Aie(t){return{token:Die(Tie),error:t}}class xie{constructor(e,n){this.app=e,this.platformLoggerProvider=n}_delete(){const{tokenObservers:e}=In(this.app);for(const n of e)Mb(this.app,n.next);return Promise.resolve()}}const oV="app-check-internal";wn(new an("app-check",t=>function(t,e){return new xie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(oV).initialize()})),wn(new an(oV,t=>function(t){return{getToken:e=>Dg(t,e),addTokenListener:e=>function(t,e,n,r){const{app:i}=t,s=In(i),o={next:n,error:r,type:e},a=Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]});if(!a.tokenRefresher){const u=function(t){const{app:e}=t;return new lie(_(function*(){let r;if(r=In(e).token?yield Dg(t,!0):yield Dg(t),r.error)throw r.error}),()=>!0,()=>{const n=In(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t);a.tokenRefresher=u}if(!a.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&a.tokenRefresher.start(),s.token&&Ed(s.token)){const u=s.token;Promise.resolve().then(()=>n({token:u.token})).catch(()=>{})}else null==s.token&&s.cachedTokenPromise.then(u=>{u&&Ed(u)&&n({token:u.token})}).catch(()=>{});vi(i,a)}(t,"INTERNAL",e),removeTokenListener:e=>Mb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ze("@firebase/app-check","0.4.2");class Sg{constructor(){return vg("app-check")}}"undefined"!=typeof window&&window;const qie=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},cV=new _i("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lV=new Fo("@firebase/auth");function Ag(t,...e){lV.logLevel<=be.ERROR&&lV.error(`Auth (9.1.3): ${t}`,...e)}function Fn(t,...e){throw Ub(t,...e)}function Ei(t,...e){return Ub(t,...e)}function dV(t,e,n){const r=Object.assign(Object.assign({},qie()),{[e]:n});return new _i("auth","Firebase",r).create(e,{appName:t.name})}function Ub(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cV.create(t,...e)}function A(t,e,...n){if(!t)throw Ub(e,...n)}function wi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ag(e),new Error(e)}function Ps(t,e){t||wi(e)}const hV=new Map;function es(t){Ps(t instanceof Function,"Expected a class definition");let e=hV.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hV.set(t,e),e)}function wd(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function fV(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Id{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=Lw()||PF()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===fV()||"https:"===fV()||Vw()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function jb(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class $b{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Jie=new Id(3e4,6e4);function Ct(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Nt(t,e,n,r){return Hb.apply(this,arguments)}function Hb(){return(Hb=_(function*(t,e,n,r,i={}){return pV(t,i,()=>{let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=pd(Object.assign({key:t.config.apiKey},o)).slice(1),u=new($b.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),$b.fetch()(gV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})})).apply(this,arguments)}function pV(t,e,n){return Wb.apply(this,arguments)}function Wb(){return(Wb=_(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yie),e);try{const i=new Xie(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw xg(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw xg(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw xg(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dV(t,l,c);Fn(t,l)}}catch(i){if(i instanceof Qi)throw i;Fn(t,"network-request-failed")}})).apply(this,arguments)}function ts(t,e,n,r){return qb.apply(this,arguments)}function qb(){return(qb=_(function*(t,e,n,r,i={}){const s=yield Nt(t,e,n,r,i);return"mfaPendingCredential"in s&&Fn(t,"multi-factor-auth-required",{serverResponse:s}),s})).apply(this,arguments)}function gV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?jb(t.config,i):`${t.config.apiScheme}://${i}`}class Xie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"timeout")),Jie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ei(t,e,r);return i.customData._tokenResponse=n,i}function Gb(){return(Gb=_(function*(t,e){return Nt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function tse(t,e){return Kb.apply(this,arguments)}function Kb(){return(Kb=_(function*(t,e){return Nt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function bd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Qb(){return(Qb=_(function*(t,e=!1){const n=Mo(t),r=yield n.getIdToken(e),i=Rg(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:bd(Yb(i.auth_time)),issuedAtTime:bd(Yb(i.iat)),expirationTime:bd(Yb(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Yb(t){return 1e3*Number(t)}function Rg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Ag("JWT malformed, contained fewer than 3 sections"),null;try{const i=Fw(n);return i?JSON.parse(i):(Ag("Failed to decode base64 JWT payload"),null)}catch(i){return Ag("Caught error parsing JWT payload as JSON",i),null}}function ns(t,e){return Jb.apply(this,arguments)}function Jb(){return(Jb=_(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Qi&&ise(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function ise({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class sse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class mV{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bd(this.lastLoginAt),this.creationTime=bd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cd(t){return Xb.apply(this,arguments)}function Xb(){return(Xb=_(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ns(t,tse(n,{idToken:r}));A(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?use(s.providerUserInfo):[],a=ase(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mV(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function Zb(){return(Zb=_(function*(t){const e=Mo(t);yield Cd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function ase(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function use(t){return t.map(e=>{var{providerId:n}=e,r=DF(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function eC(){return(eC=_(function*(t,e){const n=yield pV(t,{},()=>{const r=pd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=gV(t,i,"/v1/token",`key=${s}`);return $b.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Td{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(t){const e=Rg(t);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return _(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(t,e){return eC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Td;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Td,this.toJSON())}_performRefresh(){return wi("not implemented")}}function Ms(t,e){A("string"==typeof t||void 0===t,"internal-error",{appName:e})}class zo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=DF(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new sse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new mV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const r=yield ns(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function(t){return Qb.apply(this,arguments)}(this,e)}reload(){return function(t){return Zb.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new zo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Cd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield ns(e,function(t,e){return Gb.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:D,emailVerified:M,isAnonymous:z,providerData:He,stsTokenManager:xn}=n;A(D&&xn,e,"internal-error");const Ta=Td.fromJSON(this.name,xn);A("string"==typeof D,e,"internal-error"),Ms(d,e.name),Ms(h,e.name),A("boolean"==typeof M,e,"internal-error"),A("boolean"==typeof z,e,"internal-error"),Ms(f,e.name),Ms(p,e.name),Ms(m,e.name),Ms(g,e.name),Ms(w,e.name),Ms(y,e.name);const Ni=new zo({uid:D,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:z,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Ta,createdAt:w,lastLoginAt:y});return He&&Array.isArray(He)&&(Ni.providerData=He.map(ro=>Object.assign({},ro))),g&&(Ni._redirectEventId=g),Ni}static _fromIdTokenResponse(e,n,r=!1){return _(function*(){const i=new Td;i.updateFromServerResponse(n);const s=new zo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Cd(s),s})()}}const _V=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Ng(t,e,n){return`firebase:${t}:${e}:${n}`}class qu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ng(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ng("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?zo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(function*(){if(!n.length)return new qu(es(_V),e,r);const i=(yield Promise.all(n.map(function(){var c=_(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||es(_V);const o=Ng(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=zo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=_(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new qu(s,e,r)):new qu(s,e,r)})()}}function yV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bV(e))return"Blackberry";if(CV(e))return"Webos";if(tC(e))return"Safari";if((e.includes("chrome/")||EV(e))&&!e.includes("edge/"))return"Chrome";if(IV(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function vV(t=Rt()){return/firefox\//i.test(t)}function tC(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EV(t=Rt()){return/crios\//i.test(t)}function wV(t=Rt()){return/iemobile/i.test(t)}function IV(t=Rt()){return/android/i.test(t)}function bV(t=Rt()){return/blackberry/i.test(t)}function CV(t=Rt()){return/webos/i.test(t)}function kg(t=Rt()){return/iphone|ipad|ipod/i.test(t)}function TV(t=Rt()){return kg(t)||IV(t)||CV(t)||bV(t)||/windows phone/i.test(t)||wV(t)}function DV(t,e=[]){let n;switch(t){case"Browser":n=yV(Rt());break;case"Worker":n=`${yV(Rt())}-${t}`;break;default:n=t}return`${n}/JsCore/9.1.3/${e.length?e.join(","):"FirebaseCore-web"}`}class fse{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SV(this),this.idTokenSubscription=new SV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cV,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(_(function*(){var i;r._deleted||(r.persistenceManager=yield qu.create(r,e),!r._deleted&&((null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)&&(yield r._popupRedirectResolver._initialize(r)),yield r.initializeCurrentUser(n),!r._deleted&&(r._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){try{yield Cd(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const r=e?Mo(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return _(function*(){if(!n._deleted)return e&&A(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(_(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(es(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _i("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=e&&es(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield qu.create(n,[es(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Ln(t){return Mo(t)}class SV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(t,e){const n=new aee(t,void 0);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rs(t,e){return pC.apply(this,arguments)}function pC(){return(pC=_(function*(t,e){return ts(t,"POST","/v1/accounts:signInWithIdp",Ct(t,e))})).apply(this,arguments)}class Os{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Pse extends Os{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(function*(){const s=yield zo._fromIdTokenResponse(e,r,i),o=MV(r);return new br({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=MV(r);return new br({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function MV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Fg extends Qi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,this.name="FirebaseError",Object.setPrototypeOf(this,Fg.prototype),this.appName=e.name,this.code=n.code,this.tenantId=null!==(s=e.tenantId)&&void 0!==s?s:void 0,this.serverResponse=n.customData.serverResponse}static _fromErrorAndOperation(e,n,r,i){return new Fg(e,n,r,i)}}function OV(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Fg._fromErrorAndOperation(t,s,e,r):s})}function bC(t,e){return CC.apply(this,arguments)}function CC(){return(CC=_(function*(t,e,n=!1){const r=yield ns(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return br._forOperation(t,"link",r)})).apply(this,arguments)}function DC(){return(DC=_(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield ns(t,OV(r,i,e,t),n);A(s.idToken,r,"internal-error");const o=Rg(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),br._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&Fn(r,"user-mismatch"),s}})).apply(this,arguments)}function SC(){return(SC=_(function*(t,e,n=!1){const r="signIn",i=yield OV(t,r,e),s=yield br._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}new WeakMap;const Ug="__sak";class BV{constructor(e,n){this.storage=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ug,"1"),this.storage.removeItem(Ug),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}const Zse=(()=>{class t extends BV{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=Rt();return tC(t)||kg(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=TV(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||10!==document.documentMode||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),jV=(()=>{class t extends BV{constructor(){super(window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let toe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return _(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function(t){return Promise.all(t.map(function(){var e=_(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function nT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class noe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return _(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=nT("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Tt(){return window}function rT(){return void 0!==Tt().WorkerGlobalScope&&"function"==typeof Tt().importScripts}function iT(){return(iT=_(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const $V="firebaseLocalStorageDb",Bg="firebaseLocalStorage",HV="fbase_key";class xd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jg(t,e){return t.transaction([Bg],e?"readwrite":"readonly").objectStore(Bg)}function sT(){const t=indexedDB.open($V,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bg,{keyPath:HV})}catch(i){n(i)}}),t.addEventListener("success",_(function*(){const r=t.result;r.objectStoreNames.contains(Bg)?e(r):(r.close(),yield function(){const t=indexedDB.deleteDatabase($V);return new xd(t).toPromise()}(),e(yield sT()))}))})}function WV(t,e,n){return oT.apply(this,arguments)}function oT(){return(oT=_(function*(t,e,n){const r=jg(t,!0).put({[HV]:e,value:n});return new xd(r).toPromise()})).apply(this,arguments)}function aT(){return(aT=_(function*(t,e){const n=jg(t,!1).get(e),r=yield new xd(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function qV(t,e){const n=jg(t,!0).delete(e);return new xd(n).toPromise()}const hoe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return _(function*(){return n.db||(n.db=yield sT()),n.db})()}_withRetries(n){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return _(function*(){return rT()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return _(function*(){n.receiver=toe._getInstance(rT()?self:null),n.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return _(function*(){var r,i;if(n.activeServiceWorker=yield function(){return iT.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new noe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const n=yield sT();return yield WV(n,Ug,"1"),yield qV(n,Ug),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return _(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>WV(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return _(function*(){const i=yield r._withRetries(s=>function(t,e){return aT.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>qV(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return _(function*(){const r=yield n._withRetries(o=>{const a=jg(o,!1).getAll();return new xd(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function zV(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Qo(t,e){return e?es(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}zV("rcb"),new Id(3e4,6e4);class _T extends class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,n){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xoe(t){return function(t,e){return SC.apply(this,arguments)}(t.auth,new _T(t),t.bypassAuthState)}function Roe(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function(t,e){return DC.apply(this,arguments)}(n,new _T(t),t.bypassAuthState)}function Noe(t){return yT.apply(this,arguments)}function yT(){return(yT=_(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),bC(n,new _T(t),t.bypassAuthState)})).apply(this,arguments)}new Id(2e3,1e4);const bT=new Map;class Moe extends class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xoe;case"linkViaPopup":case"linkViaRedirect":return Noe;case"reauthViaPopup":case"reauthViaRedirect":return Roe;default:Fn(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return _(function*(){let r=bT.get(n.auth._key());if(!r){try{const s=(yield function(t,e){return CT.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}bT.set(n.auth._key(),r)}return r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function CT(){return(CT=_(function*(t,e){const n=QV(e),r="true"===(yield ST(t)._get(n));return yield ST(t)._remove(n),r})).apply(this,arguments)}function ST(t){return es(t._redirectPersistence)}function QV(t){return Ng("pendingRedirect",t.config.apiKey,t.name)}function YV(t,e){return kT.apply(this,arguments)}function kT(){return(kT=_(function*(t,e,n=!1){const r=Ln(t),i=Qo(r,e),o=yield new Moe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Boe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZV(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(XV(e))}saveEventToCache(e){this.cachedEventUids.add(XV(e)),this.lastProcessedEventTime=Date.now()}}function XV(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZV({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function $oe(t){return MT.apply(this,arguments)}function MT(){return(MT=_(function*(t,e={}){return Nt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Hoe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Woe=/^https?/;function OT(){return(OT=_(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield $oe(t);for(const n of e)try{if(Goe(n))return}catch(r){}Fn(t,"unauthorized-domain")})).apply(this,arguments)}function Goe(t){const e=wd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Woe.test(n))return!1;if(Hoe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const zoe=new Id(3e4,6e4);function e2(){const t=Tt().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Hg=null;function Qoe(t){return Hg=Hg||function(t){return new Promise((e,n)=>{var r,i,s;function o(){e2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e2(),n(Ei(t,"network-request-failed"))},timeout:zoe.get()})}if(null===(i=null===(r=Tt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Tt().gapi)||void 0===s?void 0:s.load)){const a=zV("iframefcb");return Tt()[a]=()=>{gapi.load?o():n(Ei(t,"network-request-failed"))},function(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ei("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`)}o()}}).catch(e=>{throw Hg=null,e})}(t),Hg}const Yoe=new Id(5e3,15e3),Zoe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},eae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tae(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jb(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Uo},i=eae.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pd(r).slice(1)}`}function FT(){return(FT=_(function*(t){const e=yield Qoe(t),n=Tt().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:tae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zoe,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Ei(t,"network-request-failed"),u=Tt().setTimeout(()=>{o(a)},Yoe.get());function c(){Tt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))})).apply(this,arguments)}const rae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class t2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function n2(t,e,n,r,i,s){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Uo,eventId:i};if(e instanceof Os){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Bw(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof Pse){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function({config:t}){return t.emulator?jb(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${pd(a).slice(1)}`}const LT="webStorageSupport",pae=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jV,this._completeRedirectFn=YV}_openPopup(e,n,r,i){var s=this;return _(function*(){var o;Ps(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=n2(e,n,r,wd(),i);return function(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},rae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Rt().toLowerCase();n&&(a=EV(c)?"_blank":n),vV(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function(t=Rt()){var e;return kg(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new t2(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch(h){}return new t2(d)}(e,a,nT())})()}_openRedirect(e,n,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function(t){Tt().location.href=t}(n2(e,n,r,wd(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ps(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r}initAndGetManager(e){var n=this;return _(function*(){const r=yield function(t){return FT.apply(this,arguments)}(e),i=new Boe(e);return r.register("authEvent",s=>(A(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(LT,{type:LT},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[LT];void 0!==o&&n(!!o),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function(t){return OT.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TV()||tC()||kg()}};var i2="@firebase/auth";class gae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yae(t=lg()){const e=Vo(t,"auth");return e.isInitialized()?e.getImmediate():function(t,e){const n=Vo(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(og(n.getOptions(),null!=e?e:{}))return i;Fn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:pae,persistence:[hoe,Zse,jV]})}!function(t){wn(new an("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{A(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),A(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DV(t)},u=new fse(o,a);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wn(new an("auth-internal",e=>{const n=Ln(e.getProvider("auth").getImmediate());return new gae(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(i2,"0.18.3",void 0),ze(i2,"0.18.3","esm2017")}("Browser");class VT{constructor(e){return e}}class UT{constructor(){return vg("auth")}}const BT=new pe("angularfire2.auth-instances");function Eae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new VT(r)}}const wae={provide:UT,deps:[[new Pe,BT]]},Iae={provide:VT,useFactory:function(t,e){const n=yg("auth",t,e);return n&&new VT(n)},deps:[[new Pe,BT],Go]};let bae=(()=>{class t{constructor(){ze("angularfire",yd.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nr({type:t}),t.\u0275inj=Gn({providers:[Iae,wae]}),t})();function Cae(t,...e){return{ngModule:bae,providers:[{provide:BT,useFactory:Eae(t),multi:!0,deps:[Ge,Ie,Eg,Ig,[new Pe,Sg],...e]}]}}const Tae=wg(yae,!0),a2="@firebase/database";let jT="";class Sae{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ht(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:fd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Aae{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return Yi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const c2=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Sae(e)}}catch(e){}return new Aae},Yo=c2("localStorage"),$T=c2("sessionStorage"),Gu=new Fo("@firebase/database"),l2=function(){let t=1;return function(){return t++}}(),d2=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,x(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new see;n.update(e);const r=n.digest();return ng.encodeByteArray(r)},Rd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Rd.apply(null,r):e+="object"==typeof r?Ht(r):r,e+=" "}return e};let Jo=null,h2=!0;const kt=function(...t){if(!0===h2&&(h2=!1,null===Jo&&!0===$T.get("logging_enabled")&&function(t,e){x(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Gu.logLevel=be.VERBOSE,Jo=Gu.log.bind(Gu),e&&$T.set("logging_enabled",!0)):"function"==typeof t?Jo=t:(Jo=null,$T.remove("logging_enabled"))}(!0)),Jo){const e=Rd.apply(null,t);Jo(e)}},Nd=function(t){return function(...e){kt(t,...e)}},HT=function(...t){const e="FIREBASE INTERNAL ERROR: "+Rd(...t);Gu.error(e)},Ii=function(...t){const e=`FIREBASE FATAL ERROR: ${Rd(...t)}`;throw Gu.error(e),new Error(e)},bn=function(...t){const e="FIREBASE WARNING: "+Rd(...t);Gu.warn(e)},Wg=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},is="[MIN_NAME]",bi="[MAX_NAME]",Xo=function(t,e){if(t===e)return 0;if(t===is||e===bi)return-1;if(e===is||t===bi)return 1;{const n=qg(t),r=qg(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Nae=function(t,e){return t===e?0:t<e?-1:1},kd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ht(e))},WT=function(t){if("object"!=typeof t||null===t)return Ht(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Ht(e[r]),n+=":",n+=WT(t[e[r]]);return n+="}",n},p2=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Pt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const g2=function(t){x(!Wg(t),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const c=[];for(u=52;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const l=c.join("");let d="";for(u=0;u<64;u+=8){let h=parseInt(l.substr(u,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Oae=new RegExp("^-?(0*)\\d{1,10}$"),qg=function(t){if(Oae.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},zu=function(t){try{t()}catch(e){setTimeout(()=>{throw bn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Pd=function(t,e){const n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n};class Lae{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=null==n?void 0:n.getImmediate({optional:!0}),this.appCheck||null==n||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){bn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Vae{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(kt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bn(e)}}let Md=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const w2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,b2="websocket",C2="long_polling";class zT{constructor(e,n,r,i,s=!1,o="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yo.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function T2(t,e,n){let r;if(x("string"==typeof e,"typeof type must == string"),x("object"==typeof n,"typeof params must == object"),e===b2)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==C2)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Pt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class jae{constructor(){this.counters_={}}incrementCounter(e,n=1){Yi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return YZ(this.counters_)}}const KT={},QT={};function YT(t){const e=t.toString();return KT[e]||(KT[e]=new jae),KT[e]}class Hae{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&zu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ku{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Nd(e),this.stats_=YT(n),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),T2(n,C2,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Hae(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new JT((...s)=>{const[o,a,u,c,l]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&w2.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ku.forceAllow_=!0}static forceDisallow(){Ku.forceDisallow_=!0}static isAvailable(){return!(!Ku.forceAllow_&&(Ku.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=function(t){const e=xF(t);return ng.encodeByteArray(e,!0)}(n),i=p2(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ht(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class JT{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=l2(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=JT.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){kt("frame writing exception"),a.stack&&kt(a.stack),kt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||kt("No IE domain setting required")}catch(n){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{kt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Od=null;"undefined"!=typeof MozWebSocket?Od=MozWebSocket:"undefined"!=typeof WebSocket&&(Od=WebSocket);let Fd=(()=>{class t{constructor(n,r,i,s,o,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Nd(this.connId),this.stats_=YT(r),this.connURL=t.connectionURL_(r,a,u,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s){const o={v:"5"};return"undefined"!=typeof location&&location.hostname&&w2.test(location.hostname)&&(o.r="f"),r&&(o.s=r),i&&(o.ls=i),s&&(o.ac=s),T2(n,b2,o)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yo.set("previous_websocket_failure",!0);try{this.mySock=new Od(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Od&&!t.forceDisallow_}static previouslyFailed(){return Yo.isInMemoryStorage||!0===Yo.get("previous_websocket_failure")}markConnectionHealthy(){Yo.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=fd(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(x(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Ht(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=p2(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})();class XT{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ku,Fd]}initTransports_(e){const n=Fd&&Fd.isAvailable();let r=n&&!Fd.previouslyFailed();if(e.webSocketOnly&&(n||bn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Fd];else{const i=this.transports_=[];for(const s of XT.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class V2{constructor(e,n,r,i,s,o,a,u,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Nd("c:"+this.id+":"),this.transportManager_=new XT(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Pd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=kd("t",e),r=kd("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=kd("t",e),r=kd("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=kd("t",e);if("d"in e){const r=e.d;if("h"===n)this.onHandshake_(r);else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?HT("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):HT("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&bn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Pd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class U2{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class B2{constructor(e){this.allowedEvents_=e,this.listeners_={},x(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){x(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class zg extends B2{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!Lw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new zg}getInitialEvent(e){return x("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Re{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ce(){return new Re("")}function ce(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Fs(t){return t.pieces_.length-t.pieceNum_}function Ve(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Re(t.pieces_,e)}function eD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ld(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function H2(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Re(e,0)}function Ye(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Re)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Re(n,0)}function le(t){return t.pieceNum_>=t.pieces_.length}function Cn(t,e){const n=ce(t),r=ce(e);if(null===n)return e;if(n===r)return Cn(Ve(t),Ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function tD(t,e){if(Fs(t)!==Fs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Cr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Fs(t)>Fs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class hue{constructor(e,n){this.errorPrefix_=n,this.parts_=Ld(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ug(this.parts_[r]);W2(this)}}function W2(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Zo(t))}function Zo(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class nD extends B2{constructor(){let e,n;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new nD}getInitialEvent(e){return x("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Vd=1e3;let Qg,ea=(()=>{class t extends U2{constructor(n,r,i,s,o,a,u,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Nd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nD.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&zg.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Ht(o)),x(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new hd,i={p:n._path.toString(),q:n._queryObject},s={action:"g",request:i,onComplete:a=>{const u=a.d;"ok"===a.s?(this.onDataUpdate_(i.p,u,!1,null),r.resolve(u)):r.reject(u)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const a=this.outstandingGets_[o];void 0===a||s!==a||(delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+o+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),x(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),x(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,u=>{const c=u.d,l=u.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),"ok"!==l&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Yi(n,"w")){const i=Vu(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();bn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=ig(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=ig(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),x(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ht(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):HT("Unrecognized action received from server: "+Ht(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){x(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vd,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Vd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return _(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let u=!1,c=null;const l=function(){c?c.close():(u=!0,s())};n.realtime_={close:l,sendRequest:function(f){x(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);u?kt("getToken() completed but was canceled"):(kt("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,c=new V2(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,m=>{bn(m+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),u||(n.repoInfo_.nodeAdmin&&bn(f),l())}}})()}interrupt(n){kt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){kt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Bw(this.interruptReasons_)&&(this.reconnectDelay_=Vd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>WT(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new Re(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){kt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){kt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+jT.replace(/\./g,"-")]=1,Lw()?n["framework.cordova"]=1:PF()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=zg.getInstance().currentlyOnline();return Bw(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class fe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new fe(e,n)}}class Kg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new fe(is,e),i=new fe(is,n);return 0!==this.compare(r,i)}minPost(){return fe.MIN}}class z2 extends Kg{static get __EMPTY_NODE(){return Qg}static set __EMPTY_NODE(e){Qg=e}compare(e,n){return Xo(e.name,n.name)}isDefinedOn(e){throw Fu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return fe.MIN}maxPost(){return new fe(bi,Qg)}makePost(e,n){return x("string"==typeof e,"KeyIndex indexValue must always be a string."),new fe(e,Qg)}toString(){return".key"}}const Ci=new z2;class Yg{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let iD,Yr=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=null!=i?i:t.RED,this.left=null!=s?s:Vn.EMPTY_NODE,this.right=null!=o?o:Vn.EMPTY_NODE}copy(n,r,i,s,o){return new t(null!=n?n:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Vn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Vn{constructor(e,n=Vn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Vn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Yr.BLACK,null,null))}remove(e){return new Vn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Yr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Yg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Yg(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Yg(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Yg(this.root_,null,this.comparator_,!0,e)}}function wue(t,e){return Xo(t.name,e.name)}function rD(t,e){return Xo(t,e)}Vn.EMPTY_NODE=new class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Yr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const K2=function(t){return"number"==typeof t?"number:"+g2(t):"string:"+t},Q2=function(t){if(t.isLeafNode()){const e=t.val();x("string"==typeof e||"number"==typeof e||"object"==typeof e&&Yi(e,".sv"),"Priority must be a string or number.")}else x(t===iD||t.isEmpty(),"priority of unexpected type.");x(t===iD||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Y2,J2,X2,Qu=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,x(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Q2(this.priorityNode_)}static set __childrenNodeConstructor(n){Y2=n}static get __childrenNodeConstructor(){return Y2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return le(n)?this:".priority"===ce(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=ce(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(x(".priority"!==i||1===Fs(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ve(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+K2(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?g2(this.value_):this.value_,this.lazyHash_=d2(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(x(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return x(s>=0,"Unknown leaf type: "+r),x(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const je=new class extends Kg{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?Xo(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(bi,new Qu("[PRIORITY-POST]",X2))}makePost(e,n){const r=J2(e);return new fe(n,new Qu("[PRIORITY-POST]",r))}toString(){return".priority"}},Due=Math.log(2);class Sue{constructor(e){this.count=parseInt(Math.log(e+1)/Due,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Jg=function(t,e,n,r){t.sort(e);const i=function(u,c){const l=c-u;let d,h;if(0===l)return null;if(1===l)return d=t[u],h=n?n(d):d,new Yr(h,d.node,Yr.BLACK,null,null);{const f=parseInt(l/2,10)+u,p=i(u,f),m=i(f+1,c);return d=t[f],h=n?n(d):d,new Yr(h,d.node,Yr.BLACK,p,m)}},a=function(u){let c=null,l=null,d=t.length;const h=function(p,m){const g=d-p,w=d;d-=p;const y=i(g+1,w),D=t[g],M=n?n(D):D;f(new Yr(M,D.node,m,null,y))},f=function(p){c?(c.left=p,c=p):(l=p,c=p)};for(let p=0;p<u.count;++p){const m=u.nextBitIsOne(),g=Math.pow(2,u.count-(p+1));m?h(g,Yr.BLACK):(h(g,Yr.BLACK),h(g,Yr.RED))}return l}(new Sue(t.length));return new Vn(r||e,a)};let sD;const Yu={};class ss{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return x(Yu&&je,"ChildrenNode.ts has not been loaded"),sD=sD||new ss({".priority":Yu},{".priority":je}),sD}get(e){const n=Vu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Vn?n:null}hasIndex(e){return Yi(this.indexSet_,e.toString())}addIndex(e,n){x(e!==Ci,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(fe.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Jg(r,e.getCompare()):Yu;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const l=Object.assign({},this.indexes_);return l[u]=a,new ss(l,c)}addToIndexes(e,n){const r=sg(this.indexes_,(i,s)=>{const o=Vu(this.indexSet_,s);if(x(o,"Missing index implementation for "+s),i===Yu){if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(fe.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Jg(a,o.getCompare())}return Yu}{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new fe(e.name,a))),u.insert(e,e.node)}});return new ss(r,this.indexSet_)}removeFromIndexes(e,n){const r=sg(this.indexes_,i=>{if(i===Yu)return i;{const s=n.get(e.name);return s?i.remove(new fe(e.name,s)):i}});return new ss(r,this.indexSet_)}}let Ud,te=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Q2(this.priorityNode_),this.children_.isEmpty()&&x(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ud||(Ud=new t(new Vn(rD),null,ss.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ud}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Ud:r}}getChild(n){const r=ce(n);return null===r?this:this.getImmediateChild(r).getChild(Ve(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(x(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new fe(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Ud:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=ce(n);if(null===i)return r;{x(".priority"!==ce(n)||1===Fs(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ve(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(je,(a,u)=>{r[a]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+K2(this.getPriority().val())+":"),this.forEachChild(je,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":d2(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new fe(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new fe(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new fe(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,fe.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,fe.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Bd?-1:0}withIndex(n){if(n===Ci||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Ci||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(je),s=r.getIterator(je);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===Ci?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Bd=new class extends te{constructor(){super(new Vn(rD),te.EMPTY_NODE,ss.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return te.EMPTY_NODE}isEmpty(){return!1}};function tt(t,e=null){if(null===t)return te.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),x(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Qu(t,tt(e));if(t instanceof Array){let n=te.EMPTY_NODE;return Pt(t,(r,i)=>{if(Yi(t,r)&&"."!==r.substring(0,1)){const s=tt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(tt(e))}{const n=[];let r=!1;if(Pt(t,(o,a)=>{if("."!==o.substring(0,1)){const u=tt(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new fe(o,u)))}}),0===n.length)return te.EMPTY_NODE;const s=Jg(n,wue,o=>o.name,rD);if(r){const o=Jg(n,je.getCompare());return new te(s,tt(e),new ss({".priority":o},{".priority":je}))}return new te(s,tt(e),ss.Default)}}Object.defineProperties(fe,{MIN:{value:new fe(is,te.EMPTY_NODE)},MAX:{value:new fe(bi,Bd)}}),z2.__EMPTY_NODE=te.EMPTY_NODE,Qu.__childrenNodeConstructor=te,function(t){iD=t}(Bd),function(t){X2=t}(Bd),function(t){J2=t}(tt);class oD extends Kg{constructor(e){super(),this.indexPath_=e,x(!le(e)&&".priority"!==ce(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?Xo(e.name,n.name):s}makePost(e,n){const r=tt(e),i=te.EMPTY_NODE.updateChild(this.indexPath_,r);return new fe(n,i)}maxPost(){const e=te.EMPTY_NODE.updateChild(this.indexPath_,Bd);return new fe(bi,e)}toString(){return Ld(this.indexPath_,0).join("/")}}const aD=new class extends Kg{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Xo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,n){const r=tt(e);return new fe(n,r)}toString(){return".value"}};function $d(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class lD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return x(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return x(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:is}hasEnd(){return this.endSet_}getIndexEndValue(){return x(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return x(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return x(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){const e=new lD;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function iU(t){const e={};if(t.isDefault())return e;let n;return t.index_===je?n="$priority":t.index_===aD?n="$value":t.index_===Ci?n="$key":(x(t.index_ instanceof oD,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ht(n),t.startSet_&&(e.startAt=Ht(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+Ht(t.indexStartName_))),t.endSet_&&(e.endAt=Ht(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+Ht(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function sU(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==je&&(e.i=t.index_.toString()),e}class Zg extends U2{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Nd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(x(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Zg.getListenId_(e,r),a={};this.listens_[o]=a;const u=iU(e._queryParams);this.restRequest_(s+".json",u,(c,l)=>{let d=l;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),Vu(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,n){const r=Zg.getListenId_(e,n);delete this.listens_[r]}get(e){const n=iU(e._queryParams),r=e._path.toString(),i=new hd;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+pd(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=fd(a.responseText)}catch(c){bn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&bn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class Uue{constructor(){this.rootNode_=te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function em(){return{value:null,children:new Map}}function Zu(t,e,n){if(le(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=ce(e);t.children.has(r)||t.children.set(r,em()),Zu(t.children.get(r),e=Ve(e),n)}}function pD(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{pD(i,new Re(e.toString()+"/"+r),n)})}class jue{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Pt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class Wue{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new jue(e);const r=1e4+2e4*Math.random();Pd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Pt(e,(i,s)=>{s>0&&Yi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Pd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Tr=(()=>(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Tr||(Tr={})),Tr))();function _D(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class tm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Tr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(le(this.path)){if(null!=this.affectedTree.value)return x(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Re(e));return new tm(Ce(),n,this.revert)}}return x(ce(this.path)===e,"operationForChild called for unrelated child."),new tm(Ve(this.path),this.affectedTree,this.revert)}}class ta{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Tr.OVERWRITE}operationForChild(e){return le(this.path)?new ta(this.source,Ce(),this.snap.getImmediateChild(e)):new ta(this.source,Ve(this.path),this.snap)}}class ec{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Tr.MERGE}operationForChild(e){if(le(this.path)){const n=this.children.subtree(new Re(e));return n.isEmpty()?null:n.value?new ta(this.source,Ce(),n.value):new ec(this.source,Ce(),n)}return x(ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ec(this.source,Ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ls{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(le(e))return this.isFullyInitialized()&&!this.filtered_;const n=ce(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function qd(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,u)=>function(t,e,n){if(null==e.childName||null==n.childName)throw Fu("Should only compare child_ events.");const r=new fe(e.childName,e.snapshotNode),i=new fe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,u)),o.forEach(a=>{const u=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,t.query_))})})}function nm(t,e){return{eventCache:t,serverCache:e}}function Gd(t,e,n,r){return nm(new Ls(e,n,r),t.serverCache)}function aU(t,e,n,r){return nm(t.eventCache,new Ls(e,n,r))}function rm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function na(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let yD;class $e{constructor(e,n=(()=>(yD||(yD=new Vn(Nae)),yD))()){this.value=e,this.children=n}static fromObject(e){let n=new $e(null);return Pt(e,(r,i)=>{n=n.set(new Re(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Ce(),value:this.value};if(le(e))return null;{const r=ce(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Ve(e),n);return null!=s?{path:Ye(new Re(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(le(e))return this;{const n=ce(e),r=this.children.get(n);return null!==r?r.subtree(Ve(e)):new $e(null)}}set(e,n){if(le(e))return new $e(n,this.children);{const r=ce(e),s=(this.children.get(r)||new $e(null)).set(Ve(e),n),o=this.children.insert(r,s);return new $e(this.value,o)}}remove(e){if(le(e))return this.children.isEmpty()?new $e(null):new $e(null,this.children);{const n=ce(e),r=this.children.get(n);if(r){const i=r.remove(Ve(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new $e(null):new $e(this.value,s)}return this}}get(e){if(le(e))return this.value;{const n=ce(e),r=this.children.get(n);return r?r.get(Ve(e)):null}}setTree(e,n){if(le(e))return n;{const r=ce(e),s=(this.children.get(r)||new $e(null)).setTree(Ve(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new $e(this.value,o)}}fold(e){return this.fold_(Ce(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ye(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ce(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(le(e))return null;{const s=ce(e),o=this.children.get(s);return o?o.findOnPath_(Ve(e),Ye(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ce(),n)}foreachOnPath_(e,n,r){if(le(e))return this;{this.value&&r(n,this.value);const i=ce(e),s=this.children.get(i);return s?s.foreachOnPath_(Ve(e),Ye(n,i),r):new $e(null)}}foreach(e){this.foreach_(Ce(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ye(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Jr{constructor(e){this.writeTree_=e}static empty(){return new Jr(new $e(null))}}function zd(t,e,n){if(le(e))return new Jr(new $e(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Cn(i,e);return s=s.updateChild(o,n),new Jr(t.writeTree_.set(i,s))}{const i=new $e(n),s=t.writeTree_.setTree(e,i);return new Jr(s)}}}function vD(t,e,n){let r=t;return Pt(n,(i,s)=>{r=zd(r,Ye(e,i),s)}),r}function uU(t,e){if(le(e))return Jr.empty();{const n=t.writeTree_.setTree(e,new $e(null));return new Jr(n)}}function ED(t,e){return null!=ra(t,e)}function ra(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Cn(n.path,e)):null}function cU(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(je,(r,i)=>{e.push(new fe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new fe(r,i.value))}),e}function Vs(t,e){if(le(e))return t;{const n=ra(t,e);return new Jr(null!=n?new $e(n):t.writeTree_.subtree(e))}}function wD(t){return t.writeTree_.isEmpty()}function tc(t,e){return lU(Ce(),t.writeTree_,e)}function lU(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(x(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=lU(Ye(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Ye(t,".priority"),r)),n}}function im(t,e){return gU(e,t)}function ece(t,e){if(t.snap)return Cr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Cr(Ye(t.path,n),e))return!0;return!1}function nce(t){return t.visible}function dU(t,e,n){let r=Jr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Cr(n,o)?(a=Cn(n,o),r=zd(r,a,s.snap)):Cr(o,n)&&(a=Cn(o,n),r=zd(r,Ce(),s.snap.getChild(a)));else{if(!s.children)throw Fu("WriteRecord should have .snap or .children");if(Cr(n,o))a=Cn(n,o),r=vD(r,a,s.children);else if(Cr(o,n))if(a=Cn(o,n),le(a))r=vD(r,Ce(),s.children);else{const u=Vu(s.children,ce(a));if(u){const c=u.getChild(Ve(a));r=zd(r,Ce(),c)}}}}}return r}function hU(t,e,n,r,i){if(r||i){const s=Vs(t.visibleWrites,e);return!i&&wD(s)?n:i||null!=n||ED(s,Ce())?tc(dU(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Cr(c.path,e)||Cr(e,c.path))},e),n||te.EMPTY_NODE):null}{const s=ra(t.visibleWrites,e);if(null!=s)return s;{const o=Vs(t.visibleWrites,e);return wD(o)?n:null!=n||ED(o,Ce())?tc(o,n||te.EMPTY_NODE):null}}}function sm(t,e,n,r){return hU(t.writeTree,t.treePath,e,n,r)}function ID(t,e){return function(t,e,n){let r=te.EMPTY_NODE;const i=ra(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(je,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Vs(t.visibleWrites,e);return n.forEachChild(je,(o,a)=>{const u=tc(Vs(s,new Re(o)),a);r=r.updateImmediateChild(o,u)}),cU(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return cU(Vs(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function fU(t,e,n,r){return function(t,e,n,r,i){x(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ye(e,n);if(ED(t.visibleWrites,s))return null;{const o=Vs(t.visibleWrites,s);return wD(o)?i.getChild(n):tc(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function om(t,e){return function(t,e){return ra(t.visibleWrites,e)}(t.writeTree,Ye(t.treePath,e))}function bD(t,e,n){return function(t,e,n,r){const i=Ye(e,n),s=ra(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?tc(Vs(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function pU(t,e){return gU(Ye(t.treePath,e),t.writeTree)}function gU(t,e){return{treePath:t,writeTree:e}}class lce{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;x("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),x(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,$d(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw Fu("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,$d(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const mU=new class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class CD{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Ls(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bD(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:na(this.viewCache_),s=function(t,e,n,r,i,s){return function(t,e,n,r,i,s,o){let a;const u=Vs(t.visibleWrites,e),c=ra(u,Ce());if(null!=c)a=c;else{if(null==n)return[];a=tc(u,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const l=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&l.length<i;)0!==d(f,r)&&l.push(f),f=h.getNext();return l}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function _U(t,e,n,r,i,s){const o=e.eventCache;if(null!=om(r,n))return e;{let a,u;if(le(n))if(x(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=na(e),d=ID(r,c instanceof te?c:te.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=sm(r,na(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ce(n);if(".priority"===c){x(1===Fs(n),"Can't have a priority with additional path components");const l=o.getNode();u=e.serverCache.getNode();const d=fU(r,n,l,u);a=null!=d?t.filter.updatePriority(l,d):o.getNode()}else{const l=Ve(n);let d;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const h=fU(r,n,o.getNode(),u);d=null!=h?o.getNode().getImmediateChild(c).updateChild(l,h):o.getNode().getImmediateChild(c)}else d=bD(r,c,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),c,d,l,i,s):o.getNode()}}return Gd(e,a,o.isFullyInitialized()||le(n),t.filter.filtersNodes())}}function am(t,e,n,r,i,s,o,a){const u=e.serverCache;let c;const l=o?t.filter:t.filter.getIndexedFilter();if(le(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){const f=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),f,null)}else{const f=ce(n);if(!u.isCompleteForPath(n)&&Fs(n)>1)return e;const p=Ve(n),g=u.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?l.updatePriority(u.getNode(),g):l.updateChild(u.getNode(),f,g,p,mU,null)}const d=aU(e,c,u.isFullyInitialized()||le(n),l.filtersNodes());return _U(t,d,n,i,new CD(i,d,s),a)}function TD(t,e,n,r,i,s,o){const a=e.eventCache;let u,c;const l=new CD(i,e,s);if(le(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Gd(e,c,!0,t.filter.filtersNodes());else{const d=ce(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),u=Gd(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Ve(n),f=a.getNode().getImmediateChild(d);let p;if(le(h))p=r;else{const m=l.getCompleteChild(d);p=null!=m?".priority"===eD(h)&&m.getChild(H2(h)).isEmpty()?m:m.updateChild(h,r):te.EMPTY_NODE}u=f.equals(p)?e:Gd(e,t.filter.updateChild(a.getNode(),d,p,h,l,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return u}function yU(t,e){return t.eventCache.isCompleteForChild(e)}function vU(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function DD(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,u=e;c=le(n)?r:new $e(null).setTree(n,r);const l=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){const p=vU(0,e.serverCache.getNode().getImmediateChild(d),h);u=am(t,u,new Re(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&void 0===h.value;if(!l.hasChild(d)&&!f){const m=vU(0,e.serverCache.getNode().getImmediateChild(d),h);u=am(t,u,new Re(d),m,i,s,o,a)}}),u}function bce(t,e){const n=na(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!le(e)&&!n.getImmediateChild(ce(e)).isEmpty())?n.getChild(e):null}function IU(t,e,n,r){e.type===Tr.MERGE&&null!==e.source.queryId&&(x(na(t.viewCache_),"We should always have a full cache before handling merges"),x(rm(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function(t,e,n,r,i){const s=new lce;let o,a;if(n.type===Tr.OVERWRITE){const c=n;c.source.fromUser?o=TD(t,e,c.path,c.snap,r,i,s):(x(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!le(c.path),o=am(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Tr.MERGE){const c=n;c.source.fromUser?o=function(t,e,n,r,i,s,o){let a=e;return r.foreach((u,c)=>{const l=Ye(n,u);yU(e,ce(l))&&(a=TD(t,a,l,c,i,s,o))}),r.foreach((u,c)=>{const l=Ye(n,u);yU(e,ce(l))||(a=TD(t,a,l,c,i,s,o))}),a}(t,e,c.path,c.children,r,i,s):(x(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=DD(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Tr.ACK_USER_WRITE){const c=n;o=c.revert?function(t,e,n,r,i,s){let o;if(null!=om(r,n))return e;{const a=new CD(r,e,i),u=e.eventCache.getNode();let c;if(le(n)||".priority"===ce(n)){let l;if(e.serverCache.isFullyInitialized())l=sm(r,na(e));else{const d=e.serverCache.getNode();x(d instanceof te,"serverChildren would be complete if leaf node"),l=ID(r,d)}l=l,c=t.filter.updateFullNode(u,l,s)}else{const l=ce(n);let d=bD(r,l,e.serverCache);null==d&&e.serverCache.isCompleteForChild(l)&&(d=u.getImmediateChild(l)),c=null!=d?t.filter.updateChild(u,l,d,Ve(n),a,s):e.eventCache.getNode().hasChild(l)?t.filter.updateChild(u,l,te.EMPTY_NODE,Ve(n),a,s):u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=sm(r,na(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=om(r,Ce()),Gd(e,c,o,t.filter.filtersNodes())}}(t,e,c.path,r,i,s):function(t,e,n,r,i,s,o){if(null!=om(i,n))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(le(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return am(t,e,n,u.getNode().getChild(n),i,s,a,o);if(le(n)){let c=new $e(null);return u.getNode().forEachChild(Ci,(l,d)=>{c=c.set(new Re(l),d)}),DD(t,e,n,c,i,s,a,o)}return e}{let c=new $e(null);return r.foreach((l,d)=>{const h=Ye(n,l);u.isCompleteForPath(h)&&(c=c.set(l,u.getNode().getChild(h)))}),DD(t,e,n,c,i,s,a,o)}}(t,e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Tr.LISTEN_COMPLETE)throw Fu("Unknown operation type: "+n.type);o=function(t,e,n,r,i){const s=e.serverCache;return _U(t,aU(e,s.getNode(),s.isFullyInitialized()||le(n),s.isFiltered()),n,r,mU,i)}(t,e,n.path,r,s)}const u=s.getChanges();return function(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=rm(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function(t){return{type:"value",snapshotNode:t}}(rm(e)))}}(e,o,u),{viewCache:o,changes:u}}(t.processor_,i,e,n,r);return function(t,e){x(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),x(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),x(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function(t,e,n,r){return function(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),qd(t,i,"child_removed",e,r,n),qd(t,i,"child_added",e,r,n),qd(t,i,"child_moved",s,r,n),qd(t,i,"child_changed",e,r,n),qd(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let um,lm;function SD(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return x(null!=s,"SyncTree gave us an op for an invalid query."),IU(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(IU(o,e,n,r));return s}}function Us(t,e){let n=null;for(const r of t.views.values())n=n||bce(r,e);return n}class xU{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $e(null),this.pendingWriteTree_={visibleWrites:Jr.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function AD(t,e,n,r,i){return function(t,e,n,r,i){x(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=zd(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?nc(t,new ta({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function js(t,e,n=!1){const r=function(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);x(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&ece(a,r.path)?i=!1:Cr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function(t){t.visibleWrites=dU(t.allWrites,nce,Ce()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=uU(t.visibleWrites,r.path):Pt(r.children,u=>{t.visibleWrites=uU(t.visibleWrites,Ye(r.path,u))}),!0))}(t.pendingWriteTree_,e)){let s=new $e(null);return null!=r.snap?s=s.set(Ce(),!0):Pt(r.children,o=>{s=s.set(new Re(o),!0)}),nc(t,new tm(r.path,s,n))}return[]}function Kd(t,e,n){return nc(t,new ta({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function dm(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=Us(a,Cn(o,e));if(c)return c});return hU(i,e,s,n,!0)}function nc(t,e){return NU(e,t.syncPointTree_,null,im(t.pendingWriteTree_,Ce()))}function NU(t,e,n,r){if(le(t.path))return kU(t,e,n,r);{const i=e.get(Ce());null==n&&null!=i&&(n=Us(i,Ce()));let s=[];const o=ce(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const c=n?n.getImmediateChild(o):null,l=pU(r,o);s=s.concat(NU(a,u,c,l))}return i&&(s=s.concat(SD(i,t,r,n))),s}}function kU(t,e,n,r){const i=e.get(Ce());null==n&&null!=i&&(n=Us(i,Ce()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,c=pU(r,o),l=t.operationForChild(o);l&&(s=s.concat(kU(l,a,u,c)))}),i&&(s=s.concat(SD(i,t,r,n))),s}function RD(t,e){return t.tagToQueryMap.get(e)}function ND(t){const e=t.indexOf("$");return x(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Re(t.substr(0,e))}}function kD(t,e,n){const r=t.syncPointTree_.get(e);return x(r,"Missing sync point for query tag that we're tracking"),SD(r,n,im(t.pendingWriteTree_,e),null)}class PD{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new PD(n)}node(){return this.node_}}class MD{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ye(this.path_,e);return new MD(this.syncTree_,n)}node(){return dm(this.syncTree_,this.path_)}}const MU=function(t,e,n){return t&&"object"==typeof t?(x(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Gce(t[".sv"],e,n):"object"==typeof t[".sv"]?zce(t[".sv"],e):void x(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Gce=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:x(!1,"Unexpected server value: "+t)}},zce=function(t,e,n){t.hasOwnProperty("increment")||x(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&x(!1,"Unexpected increment value: "+r);const i=e.node();if(x(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},OD=function(t,e,n){return FD(t,new PD(e),n)};function FD(t,e,n){const r=t.getPriority().val(),i=MU(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=MU(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Qu(a,tt(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Qu(i))),o.forEachChild(je,(a,u)=>{const c=FD(u,e.getImmediateChild(a),n);c!==u&&(s=s.updateImmediateChild(a,c))}),s}}class LD{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function pm(t,e){let n=e instanceof Re?e:new Re(e),r=t,i=ce(n);for(;null!==i;){const s=Vu(r.node.children,i)||{children:{},childCount:0};r=new LD(i,r,s),n=Ve(n),i=ce(n)}return r}function ia(t){return t.node.value}function VD(t,e){t.node.value=e,UD(t)}function FU(t){return t.node.childCount>0}function gm(t,e){Pt(t.node.children,(n,r)=>{e(new LD(n,t,r))})}function LU(t,e,n,r){n&&!r&&e(t),gm(t,i=>{LU(i,e,!0,r)}),n&&r&&e(t)}function Yd(t){return new Re(null===t.parent?t.name:Yd(t.parent)+"/"+t.name)}function UD(t){null!==t.parent&&function(t,e,n){const r=function(t){return void 0===ia(t)&&!FU(t)}(n),i=Yi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,UD(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,UD(t))}(t.parent,t.name,t)}const Jce=/[\[\].#$\/\u0000-\u001F\u007F]/,Xce=/[\[\].#$\u0000-\u001F\u007F]/,BD=10485760,mm=function(t){return"string"==typeof t&&0!==t.length&&!Jce.test(t)},Xd=function(t,e,n){const r=n instanceof Re?new hue(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Zo(r));if("function"==typeof e)throw new Error(t+"contains a function "+Zo(r)+" with contents = "+e.toString());if(Wg(e))throw new Error(t+"contains "+e.toString()+" "+Zo(r));if("string"==typeof e&&e.length>BD/3&&ug(e)>BD)throw new Error(t+"contains a string greater than "+BD+" utf8 bytes "+Zo(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Pt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!mm(o)))throw new Error(t+" contains an invalid key ("+o+") "+Zo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ug(e),W2(t)})(r,o),Xd(t,a,r),function(t){const e=t.parts_.pop();t.byteLength_-=ug(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+Zo(r)+" in addition to actual children.")}},BU=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!mm(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!Xce.test(t)}(t)}(n))throw new Error(function(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class nle{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Dr(t,e,n){(function(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!tD(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(rle(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>Cr(r,e)||Cr(e,r))}function rle(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Jo&&kt("event: "+n.toString()),zu(r)}}}class sle{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nle,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=em(),this.transactionQueueTree_=new LD,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function HU(t){const n=t.infoData_.getNode(new Re(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function eh(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:HU(t)})}function WU(t,e,n,r,i){t.dataUpdateCount++;const s=new Re(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=sg(n,c=>tt(c));o=function(t,e,n,r){const i=RD(t,r);if(i){const s=ND(i),o=s.path,a=s.queryId,u=Cn(o,e),c=$e.fromObject(n);return kD(t,o,new ec(_D(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{const u=tt(n);o=function(t,e,n,r){const i=RD(t,r);if(null!=i){const s=ND(i),o=s.path,a=s.queryId,u=Cn(o,e);return kD(t,o,new ta(_D(a),u,n))}return[]}(t.serverSyncTree_,s,u,i)}else if(r){const u=sg(n,c=>tt(c));o=function(t,e,n){const r=$e.fromObject(n);return nc(t,new ec({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,u)}else{const u=tt(n);o=Kd(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=ic(t,s)),Dr(t.eventQueue_,a,o)}function qU(t,e){WD(t,"connected",e),!1===e&&function(t){rc(t,"onDisconnectEvents");const e=eh(t),n=em();pD(t.onDisconnect_,Ce(),(i,s)=>{const o=function(t,e,n,r){return FD(e,new MD(n,t),r)}(i,s,t.serverSyncTree_,e);Zu(n,i,o)});let r=[];pD(n,Ce(),(i,s)=>{r=r.concat(Kd(t.serverSyncTree_,i,s));const o=function(t,e){const n=Yd(KU(t,e)),r=pm(t.transactionQueueTree_,e);return function(t,e,n){let r=void 0?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{QD(t,i)}),QD(t,r),LU(r,i=>{QD(t,i)}),n}(t,i);ic(t,o)}),t.onDisconnect_=em(),Dr(t.eventQueue_,Ce(),r)}(t)}function WD(t,e,n){const r=new Re("/.info/"+e),i=tt(n);t.infoData_.updateSnapshot(r,i);const s=Kd(t.infoSyncTree_,r,i);Dr(t.eventQueue_,r,s)}function ym(t){return t.nextWriteId_++}function rc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),kt(n,...e)}function zD(t,e,n){return dm(t.serverSyncTree_,e,n)||te.EMPTY_NODE}function vm(t,e=t.transactionQueueTree_){if(e||Em(t,e),ia(e)){const n=QU(t,e);x(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function(t,e,n){const r=n.map(c=>c.currentWriteId),i=zD(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const l=n[c];x(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;const d=Cn(e,l.path);s=s.updateChild(d,l.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,c=>{rc(t,"transaction put response",{path:u.toString(),status:c});let l=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(js(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Em(t,pm(t.transactionQueueTree_,e)),vm(t,t.transactionQueueTree_),Dr(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)zu(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{bn("transaction at "+u.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ic(t,e)}},o)}(t,Yd(e),n)}else FU(e)&&gm(e,n=>{vm(t,n)})}function ic(t,e){const n=KU(t,e),r=Yd(n);return function(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],c=Cn(n,u.path);let d,l=!1;if(x(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,d=u.abortReason,i=i.concat(js(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,d="maxretry",i=i.concat(js(t.serverSyncTree_,u.currentWriteId,!0));else{const h=zD(t,u.path,o);u.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Xd("transaction failed: Data returned ",f,u.path);let p=tt(f);"object"==typeof f&&null!=f&&Yi(f,".priority")||(p=p.updatePriority(h.getPriority()));const g=u.currentWriteId,w=eh(t),y=OD(p,h,w);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=ym(t),o.splice(o.indexOf(g),1),i=i.concat(AD(t.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally)),i=i.concat(js(t.serverSyncTree_,g,!0))}else l=!0,d="nodata",i=i.concat(js(t.serverSyncTree_,u.currentWriteId,!0))}Dr(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Em(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)zu(r[a]);vm(t,t.transactionQueueTree_)}(t,QU(t,n),r),r}function KU(t,e){let n,r=t.transactionQueueTree_;for(n=ce(e);null!==n&&void 0===ia(r);)r=pm(r,n),n=ce(e=Ve(e));return r}function QU(t,e){const n=[];return YU(t,e,n),n.sort((r,i)=>r.order-i.order),n}function YU(t,e,n){const r=ia(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);gm(e,i=>{YU(t,i,n)})}function Em(t,e){const n=ia(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,VD(e,n.length>0?n:void 0)}gm(e,r=>{Em(t,r)})}function QD(t,e){const n=ia(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(x(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(x(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(js(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?VD(e,void 0):n.length=s+1,Dr(t.eventQueue_,Yd(e),i);for(let o=0;o<r.length;o++)zu(r[o])}}const YD=function(t,e){const n=wle(t),r=n.namespace;return"firebase.com"===n.domain&&Ii(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Ii("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&bn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new zT(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new Re(n.pathString)}},wle=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let l=t.indexOf("/");-1===l&&(l=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=function(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(t.substring(l,d)));const h=function(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):bn(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class nr{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return le(this._path)?null:eD(this._path)}get ref(){return new Xr(this._repo,this._path)}get _queryIdentifier(){const e=sU(this._queryParams),n=WT(e);return"{}"===n?"default":n}get _queryObject(){return sU(this._queryParams)}isEqual(e){if(!((e=Mo(e))instanceof nr))return!1;const n=this._repo===e._repo,r=tD(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class Xr extends nr{constructor(e,n){super(e,n,new lD,!1)}get parent(){const e=H2(this._path);return null===e?null:new Xr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function(t){x(!um,"__referenceConstructor has already been defined"),um=t})(Xr),function(t){x(!lm,"__referenceConstructor has already been defined"),lm=t}(Xr);const JD={};class Ble{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(t,e,n){if(t.stats_=YT(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Zg(t.repoInfo_,(r,i,s,o)=>{WU(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>qU(t,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ht(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ea(t.repoInfo_,e,(r,i,s,o)=>{WU(t,r,i,s,o)},r=>{qU(t,r)},r=>{!function(t,e){Pt(e,(n,r)=>{WD(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function(t,e){const n=t.toString();return QT[n]||(QT[n]=e()),QT[n]}(t.repoInfo_,()=>new Wue(t.stats_,t.server_)),t.infoData_=new Uue,t.infoSyncTree_=new xU({startListening:(r,i,s,o)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=Kd(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),WD(t,"connected",!1),t.serverSyncTree_=new xU({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{const c=o(a,u);Dr(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xr(this._repo,Ce())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(t,e){const n=JD[e];(!n||n[t.key]!==t)&&Ii(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ii("Cannot call "+e+" on a deleted database.")}}function jle(t=lg(),e){return Vo(t,"database").getImmediate({identifier:e})}ea.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},ea.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},jT="9.1.3",wn(new an("database",(e,{instanceIdentifier:n})=>function(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||Ii("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),kt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u,c,o=YD(s,i),a=o.repoInfo;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(u=!0,s=`http://${c}?ns=${a.namespace}`,o=YD(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const l=i&&u?new Md(Md.OWNER):new Vae(t.name,t.options,e);BU("Invalid Firebase Database URL",o),le(o.path)||Ii("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(t,e,n,r){let i=JD[e.name];i||(i={},JD[e.name]=i);let s=i[t.toURLString()];return s&&Ii("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new sle(t,!1,n,r),i[t.toURLString()]=s,s}(a,t,l,new Lae(t.name,n));return new Ble(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),ze(a2,"0.12.2",void 0),ze(a2,"0.12.2","esm2017");class XD{constructor(e){return e}}const iB="database",ZD=new pe("angularfire2.database-instances");function zle(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new XD(r)}}const Kle={provide:class{constructor(){return vg(iB)}},deps:[[new Pe,ZD]]},Qle={provide:XD,useFactory:function(t,e){const n=yg(iB,t,e);return n&&new XD(n)},deps:[[new Pe,ZD],Go]};let Yle=(()=>{class t{constructor(){ze("angularfire",yd.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nr({type:t}),t.\u0275inj=Gn({providers:[Qle,Kle]}),t})();function Jle(t,...e){return{ngModule:Yle,providers:[{provide:ZD,useFactory:zle(t),multi:!0,deps:[Ge,Ie,Eg,Ig,[new Pe,UT],[new Pe,Sg],...e]}]}}const Xle=wg(jle,!0);var O,Zle="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},os={},e0=e0||{},X=Zle||self;function Tm(){}function t0(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function nh(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var n0="closure_uid_"+(1e9*Math.random()>>>0),tde=0;function nde(t,e,n){return t.call.apply(t.bind,arguments)}function rde(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Gt(t,e,n){return(Gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nde:rde).apply(null,arguments)}function Dm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function zt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ws(){this.s=this.s,this.o=this.o}var sde={};Ws.prototype.s=!1,Ws.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,n0)&&t[n0]||(t[n0]=++tde)}(this);delete sde[t]}},Ws.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sB=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},oB=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function aB(t){return Array.prototype.concat.apply([],arguments)}function r0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Sm(t){return/^[\s\xa0]*$/.test(t)}var Dn,uB=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Tn(t,e){return-1!=t.indexOf(e)}function s0(t,e){return t<e?-1:t>e?1:0}e:{var cB=X.navigator;if(cB){var lB=cB.userAgent;if(lB){Dn=lB;break e}}Dn=""}function o0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function dB(t){const e={};for(const n in t)e[n]=t[n];return e}var hB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fB(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<hB.length;s++)n=hB[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function a0(t){return a0[" "](t),t}a0[" "]=Tm;var Am,ude=Tn(Dn,"Opera"),oc=Tn(Dn,"Trident")||Tn(Dn,"MSIE"),pB=Tn(Dn,"Edge"),u0=pB||oc,gB=Tn(Dn,"Gecko")&&!(Tn(Dn.toLowerCase(),"webkit")&&!Tn(Dn,"Edge"))&&!(Tn(Dn,"Trident")||Tn(Dn,"MSIE"))&&!Tn(Dn,"Edge"),cde=Tn(Dn.toLowerCase(),"webkit")&&!Tn(Dn,"Edge");function mB(){var t=X.document;return t?t.documentMode:void 0}e:{var c0="",l0=function(){var t=Dn;return gB?/rv:([^\);]+)(\)|;)/.exec(t):pB?/Edge\/([\d\.]+)/.exec(t):oc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):cde?/WebKit\/(\S+)/.exec(t):ude?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(l0&&(c0=l0?l0[1]:""),oc){var d0=mB();if(null!=d0&&d0>parseFloat(c0)){Am=String(d0);break e}}Am=c0}var lde={};function dde(){return e=lde,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=uB(String(Am)).split("."),n=uB("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=s0(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||s0(0==i[2].length,0==s[2].length)||s0(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var e}var hde=X.document&&oc&&(mB()||parseInt(Am,10))||void 0,fde=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{X.addEventListener("test",Tm,e),X.removeEventListener("test",Tm,e)}catch(n){}return t}();function un(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function rh(t,e){if(un.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(gB){e:{try{a0(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:pde[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&rh.Z.h.call(this)}}un.prototype.h=function(){this.defaultPrevented=!0},zt(rh,un);var pde={2:"touch",3:"pen",4:"mouse"};rh.prototype.h=function(){rh.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ih="closure_listenable_"+(1e6*Math.random()|0),gde=0;function mde(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++gde,this.ca=this.fa=!1}function xm(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Rm(t){this.src=t,this.g={},this.h=0}function f0(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=sB(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(xm(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function p0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Rm.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=p0(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new mde(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var g0="closure_lm_"+(1e6*Math.random()|0),m0={};function yB(t,e,n,r,i){if(r&&r.once)return EB(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)yB(t,e[s],n,r,i);return null}return n=E0(n),t&&t[ih]?t.N(e,n,nh(r)?!!r.capture:!!r,i):vB(t,e,n,!1,r,i)}function vB(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=nh(i)?!!i.capture:!!i,a=y0(t);if(a||(t[g0]=a=new Rm(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var e=yde;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fde||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(IB(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function EB(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)EB(t,e[s],n,r,i);return null}return n=E0(n),t&&t[ih]?t.O(e,n,nh(r)?!!r.capture:!!r,i):vB(t,e,n,!0,r,i)}function wB(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)wB(t,e[s],n,r,i);else r=nh(r)?!!r.capture:!!r,n=E0(n),t&&t[ih]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=p0(s=t.g[e],n,r,i))&&(xm(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=y0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=p0(e,n,r,i)),(n=-1<t?e[t]:null)&&_0(n))}function _0(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ih])f0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(IB(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=y0(e))?(f0(n,t),0==n.h&&(n.src=null,e[g0]=null)):xm(t)}}}function IB(t){return t in m0?m0[t]:m0[t]="on"+t}function yde(t,e){if(t.ca)t=!0;else{e=new rh(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&_0(t),t=n.call(r,e)}return t}function y0(t){return(t=t[g0])instanceof Rm?t:null}var v0="__closure_events_fn_"+(1e9*Math.random()>>>0);function E0(t){return"function"==typeof t?t:(t[v0]||(t[v0]=function(e){return t.handleEvent(e)}),t[v0])}function Mt(){Ws.call(this),this.i=new Rm(this),this.P=this,this.I=null}function Kt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new un(e,t);else if(e instanceof un)e.target=e.target||t;else{var i=e;fB(e=new un(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Nm(o,r,!0,e)&&i}if(i=Nm(o=e.g=t,r,!0,e)&&i,i=Nm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Nm(o=e.g=n[s],r,!1,e)&&i}function Nm(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&f0(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}zt(Mt,Ws),Mt.prototype[ih]=!0,Mt.prototype.removeEventListener=function(t,e,n,r){wB(this,t,e,n,r)},Mt.prototype.M=function(){if(Mt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xm(n[r]);delete t.g[e],t.h--}}this.I=null},Mt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Mt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var w0=X.JSON.stringify;function vde(){var t=CB;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var b0,bB=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new wde,t=>t.reset());class wde{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ide(t){X.setTimeout(()=>{throw t},0)}function I0(t,e){b0||function(){var t=X.Promise.resolve(void 0);b0=function(){t.then(Cde)}}(),C0||(b0(),C0=!0),CB.add(t,e)}var C0=!1,CB=new class{constructor(){this.h=this.g=null}add(e,n){const r=bB.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Cde(){for(var t;t=vde();){try{t.h.call(t.g)}catch(n){Ide(n)}var e=bB;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}C0=!1}function km(t,e){Mt.call(this),this.h=t||1,this.g=e||X,this.j=Gt(this.kb,this),this.l=Date.now()}function T0(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function D0(t,e,n){if("function"==typeof t)n&&(t=Gt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Gt(t.handleEvent,t)}return 2147483647<Number(e)?-1:X.setTimeout(t,e||0)}function TB(t){t.g=D0(()=>{t.g=null,t.i&&(t.i=!1,TB(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}zt(km,Mt),(O=km.prototype).da=!1,O.S=null,O.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kt(this,"tick"),this.da&&(T0(this),this.start()))}},O.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},O.M=function(){km.Z.M.call(this),T0(this),delete this.g};class Tde extends Ws{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:TB(this)}M(){super.M(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sh(t){Ws.call(this),this.h=t,this.g={}}zt(sh,Ws);var DB=[];function SB(t,e,n,r){Array.isArray(n)||(n&&(DB[0]=n.toString()),n=DB);for(var i=0;i<n.length;i++){var s=yB(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function AB(t){o0(t.g,function(e,n){this.g.hasOwnProperty(n)&&_0(e)},t),t.g={}}function Pm(){this.g=!0}function ac(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return w0(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}sh.prototype.M=function(){sh.Z.M.call(this),AB(this)},sh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pm.prototype.Aa=function(){this.g=!1},Pm.prototype.info=function(){};var oa={},xB=null;function Mm(){return xB=xB||new Mt}function RB(t){un.call(this,oa.Ma,t)}function oh(t){const e=Mm();Kt(e,new RB(e,t))}function NB(t,e){un.call(this,oa.STAT_EVENT,t),this.stat=e}function Sn(t){const e=Mm();Kt(e,new NB(e,t))}function kB(t,e){un.call(this,oa.Na,t),this.size=e}function ah(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){t()},e)}oa.Ma="serverreachability",zt(RB,un),oa.STAT_EVENT="statevent",zt(NB,un),oa.Na="timingevent",zt(kB,un);var Om={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},PB={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function S0(){}function OB(){}S0.prototype.h=null;var R0,uh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function A0(){un.call(this,"d")}function x0(){un.call(this,"c")}function Fm(){}function ch(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new sh(this),this.P=Rde,this.W=new km(t=u0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new FB}function FB(){this.i=null,this.g="",this.h=!1}zt(A0,un),zt(x0,un),zt(Fm,S0),Fm.prototype.g=function(){return new XMLHttpRequest},Fm.prototype.i=function(){return{}},R0=new Fm;var Rde=45e3,N0={},Lm={};function k0(t,e,n){t.K=1,t.v=$m(as(e)),t.s=n,t.U=!0,LB(t,null)}function LB(t,e){t.F=Date.now(),lh(t),t.A=as(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),GB(n.h,"t",r),t.C=0,n=t.l.H,t.h=new FB,t.g=gj(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Tde(Gt(t.Ia,t,t.g),t.O)),SB(t.V,t.g,"readystatechange",t.gb),e=t.H?dB(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),oh(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function VB(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function UB(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Nde(t,n),i==Lm){4==e&&(t.o=4,Sn(14),r=!1),ac(t.j,t.m,null,"[Incomplete Response]");break}if(i==N0){t.o=4,Sn(15),ac(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ac(t.j,t.m,i,null),P0(t,i)}VB(t)&&i!=Lm&&i!=N0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),W0(e),e.L=!0,Sn(11))):(ac(t.j,t.m,n,"[Invalid Chunked Response]"),aa(t),dh(t))}function Nde(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Lm:(n=Number(e.substring(n,r)),isNaN(n)?N0:(r+=1)+n>e.length?Lm:(e=e.substr(r,n),t.C=r+n,e))}function lh(t){t.Y=Date.now()+t.P,BB(t,t.P)}function BB(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ah(Gt(t.eb,t),e)}function Vm(t){t.B&&(X.clearTimeout(t.B),t.B=null)}function dh(t){0==t.l.G||t.I||dj(t.l,t)}function aa(t){Vm(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,T0(t.W),AB(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function P0(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||F0(n.i,t)))if(n.I=t.N,!t.J&&F0(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ah(Gt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;Km(n),Gm(n)}H0(n),Sn(18)}if(1>=QB(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else la(n,11)}else if((t.J||n.g==t)&&Km(n),!Sm(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Tn(p,"spdy")||Tn(p,"quic")||Tn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(L0(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Je(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=pj(r,r.H?r.la:null,r.W),o.J){YB(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Vm(a),lh(a)),r.g=o}else cj(r);0<n.l.length&&zm(n)}else"stop"!=c[0]&&"close"!=c[0]||la(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?la(n,7):j0(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}oh(4)}catch(c){}}function M0(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(t0(t)||"string"==typeof t)oB(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(t0(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(t0(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function uc(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof uc)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function O0(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];ua(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)ua(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function ua(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(O=ch.prototype).setTimeout=function(t){this.P=t},O.gb=function(t){t=t.target;const e=this.L;e&&3==us(t)?e.l():this.Ia(t)},O.Ia=function(t){try{if(t==this.g)e:{const l=us(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||u0||this.g&&(this.h.h||this.g.ga()||ij(this.g)))){this.I||4!=l||7==e||oh(8==e||0>=d?3:2),Vm(this);var n=this.g.ba();this.N=n;t:if(VB(this)){var r=ij(this.g);t="";var i=r.length,s=4==us(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){aa(this),dh(this);var o="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sm(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Sn(12),aa(this),dh(this);break e}ac(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,P0(this,n)}this.U?(UB(this,l,o),u0&&this.i&&3==l&&(SB(this.V,this.W,"tick",this.fb),this.W.start())):(ac(this.j,this.m,o,null),P0(this,o)),4==l&&aa(this),this.i&&!this.I&&(4==l?dj(this.l,this):(this.i=!1,lh(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Sn(12)):(this.o=0,Sn(13)),aa(this),dh(this)}}}catch(l){}},O.fb=function(){if(this.g){var t=us(this.g),e=this.g.ga();this.C<e.length&&(Vm(this),UB(this,t,e),this.i&&4!=t&&lh(this))}},O.cancel=function(){this.I=!0,aa(this)},O.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(oh(3),Sn(17)),aa(this),this.o=2,dh(this)):BB(this,this.Y-t)},(O=uc.prototype).R=function(){O0(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},O.T=function(){return O0(this),this.g.concat()},O.get=function(t,e){return ua(this.h,t)?this.h[t]:e},O.set=function(t,e){ua(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},O.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var jB=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ca(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ca){this.g=void 0!==e?e:t.g,Um(this,t.j),this.s=t.s,Bm(this,t.i),jm(this,t.m),this.l=t.l,e=t.h;var n=new ph;n.i=e.i,e.g&&(n.g=new uc(e.g),n.h=e.h),$B(this,n),this.o=t.o}else t&&(n=String(t).match(jB))?(this.g=!!e,Um(this,n[1]||"",!0),this.s=hh(n[2]||""),Bm(this,n[3]||"",!0),jm(this,n[4]),this.l=hh(n[5]||"",!0),$B(this,n[6]||"",!0),this.o=hh(n[7]||"")):(this.g=!!e,this.h=new ph(null,this.g))}function as(t){return new ca(t)}function Um(t,e,n){t.j=n?hh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Bm(t,e,n){t.i=n?hh(e,!0):e}function jm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $B(t,e,n){e instanceof ph?(t.h=e,function(t,e){e&&!t.j&&(qs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(WB(this,r),GB(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=fh(e,Ude)),t.h=new ph(e,t.g))}function Je(t,e,n){t.h.set(e,n)}function $m(t){return Je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function hh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fde),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fde(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ca.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fh(e,HB,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(fh(e,HB,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(fh(n,"/"==n.charAt(0)?Vde:Lde,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fh(n,Bde)),t.join("")};var HB=/[#\/\?@]/g,Lde=/[#\?:]/g,Vde=/[#\?]/g,Ude=/[#\?@]/g,Bde=/#/g;function ph(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qs(t){t.g||(t.g=new uc,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function WB(t,e){qs(t),e=cc(t,e),ua(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,ua((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&O0(t)))}function qB(t,e){return qs(t),e=cc(t,e),ua(t.g.h,e)}function GB(t,e,n){WB(t,e),0<n.length&&(t.i=null,t.g.set(cc(t,e),r0(n)),t.h+=n.length)}function cc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function zB(t){this.l=t||Hde,t=X.PerformanceNavigationTiming?0<(t=X.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(X.g&&X.g.Ea&&X.g.Ea()&&X.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(O=ph.prototype).add=function(t,e){qs(this),this.i=null,t=cc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},O.forEach=function(t,e){qs(this),this.g.forEach(function(n,r){oB(n,function(i){t.call(e,i,r,this)},this)},this)},O.T=function(){qs(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},O.R=function(t){qs(this);var e=[];if("string"==typeof t)qB(this,t)&&(e=aB(e,this.g.get(cc(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=aB(e,t[n])}return e},O.set=function(t,e){return qs(this),this.i=null,qB(this,t=cc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},O.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},O.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var Hde=10;function KB(t){return!!t.h||!!t.g&&t.g.size>=t.j}function QB(t){return t.h?1:t.g?t.g.size:0}function F0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function L0(t,e){t.g?t.g.add(e):t.h=e}function YB(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function JB(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return r0(t.i)}function V0(){}function Wde(){this.g=new V0}function qde(t,e,n){const r=n||"";try{M0(t,function(i,s){let o=i;nh(i)&&(o=w0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Hm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function gh(t){this.l=t.$b||null,this.j=t.ib||!1}function Wm(t,e){Mt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=U0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zB.prototype.cancel=function(){if(this.i=JB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},V0.prototype.stringify=function(t){return X.JSON.stringify(t,void 0)},V0.prototype.parse=function(t){return X.JSON.parse(t,void 0)},zt(gh,S0),gh.prototype.g=function(){return new Wm(this.l,this.j)},gh.prototype.i=function(t){return function(){return t}}({}),zt(Wm,Mt);var U0=0;function XB(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function mh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_h(t)}function _h(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(O=Wm.prototype).open=function(t,e){if(this.readyState!=U0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_h(this)},O.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||X).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mh(this)),this.readyState=U0},O.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_h(this)),this.g&&(this.readyState=3,_h(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==X.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XB(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},O.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?mh(this):_h(this),3==this.readyState&&XB(this)}},O.Ua=function(t){this.g&&(this.response=this.responseText=t,mh(this))},O.Ta=function(t){this.g&&(this.response=t,mh(this))},O.ha=function(){this.g&&mh(this)},O.setRequestHeader=function(t,e){this.v.append(t,e)},O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Wm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var zde=X.JSON.parse;function pt(t){Mt.call(this),this.headers=new uc,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ZB,this.K=this.L=!1}zt(pt,Mt);var ZB="",Kde=/^https?$/i,Qde=["POST","PUT"];function Jde(t){return"content-type"==t.toLowerCase()}function ej(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,tj(t),qm(t)}function tj(t){t.D||(t.D=!0,Kt(t,"complete"),Kt(t,"error"))}function nj(t){if(t.h&&void 0!==e0&&(!t.C[1]||4!=us(t)||2!=t.ba()))if(t.v&&4==us(t))D0(t.Fa,0,t);else if(Kt(t,"readystatechange"),4==us(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(jB)[1]||null;if(!i&&X.self&&X.self.location){var s=X.self.location.protocol;i=s.substr(0,s.length-1)}r=!Kde.test(i?i.toLowerCase():"")}n=r}if(n)Kt(t,"complete"),Kt(t,"success");else{t.m=6;try{var o=2<us(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",tj(t)}}finally{qm(t)}}}function qm(t,e){if(t.g){rj(t);const n=t.g,r=t.C[0]?Tm:null;t.g=null,t.C=null,e||Kt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function rj(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(X.clearTimeout(t.A),t.A=null)}function us(t){return t.g?t.g.readyState:0}function ij(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ZB:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function B0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(t){let e="";return o0(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Je(t,e,n))}function yh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function sj(t){this.za=0,this.l=[],this.h=new Pm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=yh("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=yh("baseRetryDelayMs",5e3,t),this.$a=yh("retryDelaySeedMs",1e4,t),this.Ya=yh("forwardChannelMaxRetries",2,t),this.ra=yh("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new zB(t&&t.concurrentRequestLimit),this.Ca=new Wde,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function j0(t){if(oj(t),3==t.G){var e=t.V++,n=as(t.F);Je(n,"SID",t.J),Je(n,"RID",e),Je(n,"TYPE","terminate"),vh(t,n),(e=new ch(t,t.h,e,void 0)).K=2,e.v=$m(as(n)),n=!1,X.navigator&&X.navigator.sendBeacon&&(n=X.navigator.sendBeacon(e.v.toString(),"")),!n&&X.Image&&((new Image).src=e.v,n=!0),n||(e.g=gj(e.l,null),e.g.ea(e.v)),e.F=Date.now(),lh(e)}fj(t)}function Gm(t){t.g&&(W0(t),t.g.cancel(),t.g=null)}function oj(t){Gm(t),t.u&&(X.clearTimeout(t.u),t.u=null),Km(t),t.i.cancel(),t.m&&("number"==typeof t.m&&X.clearTimeout(t.m),t.m=null)}function $0(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&zm(t)}function zm(t){KB(t.i)||t.m||(t.m=!0,I0(t.Ha,t),t.C=0)}function aj(t,e){var n;n=e?e.m:t.V++;const r=as(t.F);Je(r,"SID",t.J),Je(r,"RID",n),Je(r,"AID",t.U),vh(t,r),t.o&&t.s&&B0(r,t.o,t.s),n=new ch(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=uj(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),L0(t.i,n),k0(n,r,e)}function vh(t,e){t.j&&M0({},function(n,r){Je(e,r,n)})}function uj(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Gt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{qde(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function cj(t){t.g||t.u||(t.Y=1,I0(t.Ga,t),t.A=0)}function H0(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=ah(Gt(t.Ga,t),hj(t,t.A)),t.A++,0))}function W0(t){null!=t.B&&(X.clearTimeout(t.B),t.B=null)}function lj(t){t.g=new ch(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=as(t.oa);Je(e,"RID","rpc"),Je(e,"SID",t.J),Je(e,"CI",t.N?"0":"1"),Je(e,"AID",t.U),vh(t,e),Je(e,"TYPE","xmlhttp"),t.o&&t.s&&B0(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=$m(as(e)),n.s=null,n.U=!0,LB(n,t)}function Km(t){null!=t.v&&(X.clearTimeout(t.v),t.v=null)}function dj(t,e){var n=null;if(t.g==e){Km(t),W0(t),t.g=null;var r=2}else{if(!F0(t.i,e))return;n=e.D,YB(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Kt(r=Mm(),new kB(r,n,e,i)),zm(t)}else cj(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(QB(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ah(Gt(t.Ha,t,e),hj(t,t.C)),t.C++,0)))}(t,e)||2==r&&H0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:la(t,5);break;case 4:la(t,10);break;case 3:la(t,6);break;default:la(t,2)}}function hj(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function la(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Gt(t.jb,t);n||(n=new ca("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||Um(n,"https"),$m(n)),function(t,e){const n=new Pm;if(X.Image){const r=new Image;r.onload=Dm(Hm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Dm(Hm,n,r,"TestLoadImage: error",!1,e),r.onabort=Dm(Hm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Dm(Hm,n,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Sn(2);t.G=0,t.j&&t.j.va(e),fj(t),oj(t)}function fj(t){t.G=0,t.I=-1,t.j&&((0!=JB(t.i).length||0!=t.l.length)&&(t.i.i.length=0,r0(t.l),t.l.length=0),t.j.ua())}function pj(t,e,n){let r=function(t){return t instanceof ca?as(t):new ca(t,void 0)}(n);if(""!=r.i)e&&Bm(r,e+"."+r.i),jm(r,r.m);else{const i=X.location;r=function(t,e,n,r){var i=new ca(null,void 0);return t&&Um(i,t),e&&Bm(i,e),n&&jm(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&o0(t.aa,function(i,s){Je(r,s,i)}),n=t.sa,(e=t.D)&&n&&Je(r,e,n),Je(r,"VER",t.ma),vh(t,r),r}function gj(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pt(n&&t.Ba&&!t.qa?new gh({ib:!0}):t.qa)).L=t.H,e}function mj(){}function Qm(){if(oc&&!(10<=Number(hde)))throw Error("Environmental error: no available transport.")}function rr(t,e){Mt.call(this),this.g=new sj(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Sm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sm(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new lc(this)}function _j(t){A0.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function yj(){x0.call(this),this.status=1}function lc(t){this.g=t}(O=pt.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():R0.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:R0),this.g.onreadystatechange=Gt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void ej(this,s)}t=n||"";const i=new uc(this.headers);r&&M0(r,function(s,o){i.set(o,s)}),r=function(t){e:{var e=Jde;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=X.FormData&&t instanceof X.FormData,!(0<=sB(Qde,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rj(this),0<this.B&&((this.K=function(t){return oc&&dde()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gt(this.pa,this)):this.A=D0(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ej(this,s)}},O.pa=function(){void 0!==e0&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kt(this,"complete"),Kt(this,"abort"),qm(this))},O.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qm(this,!0)),pt.Z.M.call(this)},O.Fa=function(){this.s||(this.F||this.v||this.l?nj(this):this.cb())},O.cb=function(){nj(this)},O.ba=function(){try{return 2<us(this)?this.g.status:-1}catch(t){return-1}},O.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},O.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),zde(e)}},O.Da=function(){return this.m},O.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(O=sj.prototype).ma=8,O.G=1,O.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},O.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new ch(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=dB(s),fB(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uj(this,i,e),Je(n=as(this.F),"RID",t),Je(n,"CVER",22),this.D&&Je(n,"X-HTTP-Session-Id",this.D),vh(this,n),this.o&&s&&B0(n,this.o,s),L0(this.i,i),this.Ra&&Je(n,"TYPE","init"),this.ja?(Je(n,"$req",e),Je(n,"SID","null"),i.$=!0,k0(i,n,null)):k0(i,n,e),this.G=2}}else 3==this.G&&(t?aj(this,t):0==this.l.length||KB(this.i)||aj(this))},O.Ga=function(){if(this.u=null,lj(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ah(Gt(this.bb,this),t)}},O.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Sn(10),Gm(this),lj(this))},O.ab=function(){null!=this.v&&(this.v=null,Gm(this),H0(this),Sn(19))},O.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Sn(2)):(this.h.info("Failed to ping google.com"),Sn(1))},(O=mj.prototype).xa=function(){},O.wa=function(){},O.va=function(){},O.ua=function(){},O.Oa=function(){},Qm.prototype.g=function(t,e){return new rr(t,e)},zt(rr,Mt),rr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),I0(Gt(t.hb,t,e))),Sn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=pj(t,null,t.W),zm(t)},rr.prototype.close=function(){j0(this.g)},rr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,$0(this.g,e)}else this.v?((e={}).__data__=w0(t),$0(this.g,e)):$0(this.g,t)},rr.prototype.M=function(){this.g.j=null,delete this.j,j0(this.g),delete this.g,rr.Z.M.call(this)},zt(_j,A0),zt(yj,x0),zt(lc,mj),lc.prototype.xa=function(){Kt(this.g,"a")},lc.prototype.wa=function(t){Kt(this.g,new _j(t))},lc.prototype.va=function(t){Kt(this.g,new yj(t))},lc.prototype.ua=function(){Kt(this.g,"b")},Qm.prototype.createWebChannel=Qm.prototype.g,rr.prototype.send=rr.prototype.u,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,Om.NO_ERROR=0,Om.TIMEOUT=8,Om.HTTP_ERROR=6,PB.COMPLETE="complete",OB.EventType=uh,uh.OPEN="a",uh.CLOSE="b",uh.ERROR="c",uh.MESSAGE="d",Mt.prototype.listen=Mt.prototype.N,pt.prototype.listenOnce=pt.prototype.O,pt.prototype.getLastError=pt.prototype.La,pt.prototype.getLastErrorCode=pt.prototype.Da,pt.prototype.getStatus=pt.prototype.ba,pt.prototype.getResponseJson=pt.prototype.Qa,pt.prototype.getResponseText=pt.prototype.ga,pt.prototype.send=pt.prototype.ea,os.createWebChannelTransport=function(){return new Qm},os.getStatEventTarget=function(){return Mm()},os.ErrorCode=Om,os.EventType=PB,os.Event=oa,os.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},os.FetchXmlHttpFactory=gh,os.WebChannel=OB,os.XhrIo=pt;const vj="@firebase/firestore";class Qt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");let Eh="9.1.3";const Gs=new Fo("@firebase/firestore");function S(t,...e){if(Gs.logLevel<=be.DEBUG){const n=e.map(z0);Gs.debug(`Firestore (${Eh}): ${t}`,...n)}}function gt(t,...e){if(Gs.logLevel<=be.ERROR){const n=e.map(z0);Gs.error(`Firestore (${Eh}): ${t}`,...n)}}function z0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function V(t="Unexpected state"){const e=`FIRESTORE (${Eh}) INTERNAL ASSERTION FAILED: `+t;throw gt(e),new Error(e)}function q(t,e){t||V()}const I_CANCELLED="cancelled",I_INVALID_ARGUMENT="invalid-argument",I_FAILED_PRECONDITION="failed-precondition",I_UNAVAILABLE="unavailable";class T extends Error{constructor(e,n){super(n),this.code=e,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ot{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Ej{constructor(e,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class ehe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class nhe{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Ot;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ot,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ot)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(q("string"==typeof r.accessToken),new Ej(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q(null===e||"string"==typeof e),new Qt(e)}}class rhe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class ihe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new rhe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function she(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function _e(t,e){return t<e?-1:t>e?1:0}class Ym{constructor(e,n,r){void 0===n?n=0:n>e.length&&V(),void 0===r?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ym.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ym?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends Ym{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(I_INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ft(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ft(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");class F{constructor(e){this.path=e}static fromPath(e){return new F(Se.fromString(e))}static fromName(e){return new F(Se.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Se.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new Se(e.slice()))}}var yt,we;(we=yt||(yt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";class Dt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new o_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new o_(this.root,e,this.comparator,!1)}getReverseIterator(){return new o_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new o_(this.root,e,this.comparator,!0)}}class o_{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Jt.RED,this.left=null!=i?i:Jt.EMPTY,this.right=null!=s?s:Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Jt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1,Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Jt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class st{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new e$(this.data.getIterator())}getIteratorFrom(e){return new e$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new st(this.comparator);return n.data=e,n}}class e${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=w$(e)),e=Ghe(t.get(n),e);return w$(e)}function Ghe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function w$(t){return t+"\x01\x01"}new Dt(F.comparator),new Dt(F.comparator),new Dt(F.comparator),new st(F.comparator),new st(_e);class sr{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}sr.store="owner",sr.key="owner";class Ys{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}Ys.store="mutationQueues",Ys.keyPath="userId";class Ke{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}Ke.store="mutations",Ke.keyPath="batchId",Ke.userMutationsIndex="userMutationsIndex",Ke.userMutationsKeyPath=["userId","batchId"];class dn{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,Zr(n)]}static key(e,n,r){return[e,Zr(n),r]}}dn.store="documentMutations",dn.PLACEHOLDER=new dn;class ot{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}ot.store="remoteDocuments",ot.readTimeIndex="readTimeIndex",ot.readTimeIndexPath="readTime",ot.collectionReadTimeIndex="collectionReadTimeIndex",ot.collectionReadTimeIndexPath=["parentPath","readTime"];class xi{constructor(e){this.byteSize=e}}xi.store="remoteDocumentGlobal",xi.key="remoteDocumentGlobalKey";class Un{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}Un.store="targets",Un.keyPath="targetId",Un.queryTargetsIndexName="queryTargetsIndex",Un.queryTargetsKeyPath=["canonicalId","targetId"];class Xt{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}Xt.store="targetDocuments",Xt.keyPath=["targetId","path"],Xt.documentTargetsIndex="documentTargetsIndex",Xt.documentTargetsKeyPath=["path","targetId"];class or{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}or.key="targetGlobalKey",or.store="targetGlobal";class ma{constructor(e,n){this.collectionId=e,this.parent=n}}ma.store="collectionParents",ma.keyPath=["collectionId","parent"];class ds{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}ds.store="clientMetadata",ds.keyPath="clientId";class Ic{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}Ic.store="bundles",Ic.keyPath="bundleId";class bc{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}function _a(t){return"IndexedDbTransactionError"===t.name}bc.store="namedQueries",bc.keyPath="name";class jn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function y_(){return"undefined"!=typeof document?document:null}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(41943040,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class kS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Oe=e,this.timerId=n,this.Qi=r,this.Wi=i,this.Gi=s,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const n=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class QS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ot,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new QS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(I_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class wpe{constructor(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Qt.UNAUTHENTICATED,this.clientId=class{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=she(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var s=_(function*(o){S("FirestoreClient","Received user=",o.uid),yield i.credentialListener(o),i.user=o});return function(o){return s.apply(this,arguments)}}())}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(I_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ot;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),n.resolve()}catch(r){const i=function(t,e){if(gt("AsyncQueue",`${e}: ${t}`),_a(t))return new T(I_UNAVAILABLE,`${e}: ${t}`);throw t}(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}class Rpe{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Hh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Hh&&e.projectId===this.projectId&&e.database===this.database}}const IH=new Map;class DH{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new T(I_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(I_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new T(I_INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mpe{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new kS(this,"async_queue_retry"),this.Ta=()=>{const n=y_();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.rr.tr()};const e=y_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const n=y_();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const n=new Ot;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return _(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(n){if(!_a(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const n=this.fa.then(()=>(this.ga=!0,e().catch(r=>{throw this.ma=r,this.ga=!1,gt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.ga=!1,r))));return this.fa=n,n}enqueueAfterDelay(e,n,r){this.Ea(),this.pa.indexOf(e)>-1&&(n=0);const i=QS.createAndSchedule(this,e,n,r,s=>this.Ra(s));return this._a.push(i),i}Ea(){this.ma&&V()}verifyOperationInProgress(){}ba(){var e=this;return _(function*(){let n;do{n=e.fa,yield n}while(n!==e.fa)})()}Pa(e){for(const n of this._a)if(n.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._a)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const n=this._a.indexOf(e);this._a.splice(n,1)}}class at extends class{constructor(e,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DH({}),this._settingsFrozen=!1,e instanceof Hh?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new T(I_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hh(r.options.projectId)}(e))}get app(){if(!this._app)throw new T(I_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(I_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DH(e),void 0!==e.credentials&&(this._credentials=function(n){if(!n)return new ehe;switch(n.type){case"gapi":const r=n.client;return q(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new ihe(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new T(I_INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=IH.get(e);n&&(S("ComponentProvider","Removing Datastore"),IH.delete(e),n.terminate())}(this),Promise.resolve()}}{constructor(e,n){super(e,n),this.type="firestore",this._queue=new Mpe,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||function(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Rpe(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new wpe(t._credentials,t._queue,r)}(this),this._firestoreClient.terminate()}}function Fpe(t=lg()){return Vo(t,"firestore").getImmediate()}Eh="9.1.3",wn(new an("firestore",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=new at(n,new nhe(t.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),r._setSettings(e),r},"PUBLIC")),ze(vj,"3.1.1",void 0),ze(vj,"3.1.1","esm2017");class GA{constructor(e){return e}}const KH="firestore",zA=new pe("angularfire2.firestore-instances");function ege(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new GA(r)}}const tge={provide:class{constructor(){return vg(KH)}},deps:[[new Pe,zA]]},nge={provide:GA,useFactory:function(t,e){const n=yg(KH,t,e);return n&&new GA(n)},deps:[[new Pe,zA],Go]};let rge=(()=>{class t{constructor(){ze("angularfire",yd.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nr({type:t}),t.\u0275inj=Gn({providers:[nge,tge]}),t})();function ige(t,...e){return{ngModule:rge,providers:[{provide:zA,useFactory:ege(t),multi:!0,deps:[Ge,Ie,Eg,Ig,[new Pe,UT],[new Pe,Sg],...e]}]}}const sge=wg(Fpe,!0);let oge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nr({type:t,bootstrap:[qZ]}),t.\u0275inj=Gn({providers:[],imports:[[YY,WZ,iie(()=>sie(BL_firebase)),Cae(()=>Tae()),Jle(()=>Xle()),ige(()=>sge())]]}),t})();(function(){if(aM)throw new Error("Cannot enable prod mode after platform setup.");oM=!1})(),KY().bootstrapModule(oge).catch(t=>console.error(t))}},Da=>{Da(Da.s=656)}]);